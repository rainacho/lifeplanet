(function(){function initModule(kryptos){var DC_pkcs7DigestAlg="SHA256";var DC_platformInfo=DC_getPlatformInfo();window.DC_platformInfo=DC_platformInfo;var DC_browserInfo=DC_getBrowserInfo();window.DC_browserInfo=DC_browserInfo;if(typeof DelfinoConfig=="undefined")alert("include delfino_config.js'");var DC_version=DelfinoConfig.version;window.DC_version=DC_version;var DC_mimeType=DelfinoConfig.mimeType;window.DC_mimeType=DC_mimeType;var DC_installPage=DelfinoConfig.installPage;var DC_installPkg=DelfinoConfig.installPkg;window.DC_installPkg=DC_installPkg;var DC_installMessage=DelfinoConfig.installMessage;var DC_mobileUrlHandlerType=DelfinoConfig.mobileUrlHandlerType;var DC_closeHtml=DelfinoConfig.mobileCloseHtml;var DC_mobileUrlHandlerServerUrl=DelfinoConfig.mobileUrlHandlerServerUrl;var DC_transferInfo=DelfinoConfig.transferInfo;var DC_processingImageUrl=DelfinoConfig.processingImageUrl;var DC_mobileProviderName=DelfinoConfig.mobileProviderName;if(DC_mobileProviderName=="kbstar")DelfinoConfig.mobileUrlHandlerType=false;var DCryptoIOS={init:function(e){var t=/Delfino/i;if(DC_mobileProviderName=="kbstar")t=/Delfino-/i;if(navigator.userAgent.match(t)){return true}else{if(typeof e!="undefined"&&e==false)return false;if(typeof DC_installMessage.Mobile!="undefined"&&DC_installMessage.Mobile!=""){if(!confirm(DC_installMessage.Mobile))return false}if(document.getElementById("delfino_check")!=null){$("#delfino_check").remove()}var r="wizvera-delfino://open?url="+encodeURIComponent(window.location.href);if(DC_mobileProviderName=="kbstar")r="kbbank://call?cmd=move_to&id=mobileWeb&data="+encodeURIComponent('{"url":"'+window.location.href+'"}');$("body").append('<iframe src="'+r+'" id="delfino_check" style="display:none" ></iframe>');setTimeout(function(){if(document.getElementById("delfino_check").contentWindow.document==null){DCryptoIOS.goInstallPage()}else{DCryptoIOS.goInstallPage()}},2e3);return false}},goInstallPage:function(){var e=DC_installPage.iOS;var t=window.location.href;if(t.indexOf(e)<0){var r=encodeURIComponent(t);if(e.indexOf("?")<0){parameter="?url="+r}else{parameter="&url="+r}window.location.href=e+parameter}return false},getObjectTag:function(){return""},getObject:function(){return this},generatePKCS7SignedData:function(e,t,r){var i=[e,DC_pkcs7DigestAlg,t,r];CallManager.call(new CallObject("generatePKCS7SignedData",i))},generateMultiPKCS7SignedData:function(e,t,r,i){var n=[e,t,DC_pkcs7DigestAlg,r,i];CallManager.call(new CallObject("generateMultiPKCS7SignedData",n))},resetCertificate:function(){CallManager.call(new CallObject("resetCertificate",arguments))},setConfig:function(e){CallManager.call(new CallObject("setConfig",arguments))},manageCertificate:function(){CallManager.call(new CallObject("manageCertificate",arguments))},setProperty:function(e,t){CallManager.call(new CallObject("setProperty",arguments))},requestCertificate:function(e,t,r,i,n,a){CallManager.call(new CallObject("requestCertificate",arguments))},updateCertificate:function(e,t,r,i){CallManager.call(new CallObject("updateCertificate",arguments))},importCertificate:function(e,t){CallManager.call(new CallObject("importCertificate",arguments))},exportCertificate:function(e,t){CallManager.call(new CallObject("exportCertificate",arguments))},importCertificateFromPC:function(e,t){CallManager.call(new CallObject("importCertificateFromPC",arguments))},exportCertificateToPC:function(e,t){CallManager.call(new CallObject("exportCertificateToPC",arguments))},setLang:function(e,t){},getProperty:function(e){return""},sign:function(e,t,r){CallManager.call(new CallObject("sign",arguments))},importCertificateFromPKCS12:function(e){CallManager.call(new CallObject("importCertificateFromPKCS12",arguments))}};var DCryptoPlugin={init:function(e){return this.getObject(e)!=null},getObjectTag:function(e){var t="";if(DC_browserInfo.MSIE){var r=DC_version.WinIE;var i=DC_mimeType.WinIE;var n=DC_installPkg.Cab32;if(DC_platformInfo.x64)n=DC_installPkg.Cab64;n="";var a="delfinoDiv";if(e!=null&&e==true){a="delfinoDiv2"}t="<div id='"+a+"'><object id='DelfinoCrypto' classid='"+i+"' WIDTH='1' HEIGHT='1' style='position:absolute;left:1px;top:1px;' ";t+="codebase="+n+"#version="+r+" ";t+=">";if(e==null||e!=true){t+="<param name='url' value='"+document.URL+"'></param>"}t+="</object></div>"}else{var o=DC_mimeType.Linux;if(DC_platformInfo.Mac){o=DC_mimeType.Mac}else if(DC_platformInfo.Linux){o=DC_mimeType.Linux}if(DC_platformInfo.Windows){t="<div><object id='DelfinoCrypto' TYPE='"+o+"' WIDTH='0' HEIGHT='0' url='"+document.URL+"'> </object></div>"}else{t="<div><object style='visibility:hidden;' id='DelfinoCrypto' TYPE='"+o+"' WIDTH='1' HEIGHT='1' url='"+document.URL+"'> </object></div>"}}return t},isInstallPlugin:function(e){var t=DC_version.WinMoz;var r=DC_mimeType.WinMoz;if(DC_platformInfo.Mac){t=DC_version.Mac;r=DC_mimeType.Mac}else if(DC_platformInfo.Linux){t=DC_version.Linux;r=DC_mimeType.Linux}var i=DC_getPlguinInfo(r);if(i==null)return false;if(e){if(DC_compareVersion(DC_getPlguinVersion(i),t)<0)return false}return true},isInstallActiveX:function(){if(typeof document.DelfinoCrypto=="undefined"||document.DelfinoCrypto=="undefined"||document.DelfinoCrypto==null||document.DelfinoCrypto.object==null)return false;return true},goInstallPage:function(e){if(e==null)e="G2";if(typeof DC_installMessage.PC!="undefined"&&DC_installMessage.PC!=""){if(!confirm(DC_installMessage.PC))return}var t=DC_installPage.WinMoz;if(DC_browserInfo.MSIE){t=DC_installPage.WinIE}else if(DC_platformInfo.Mac){t=DC_installPage.Mac}else if(DC_platformInfo.Linux){t=DC_installPage.Linux}var r="";if(window.location.pathname.indexOf("HPGA01P0")>-1){r=window.parent.location.href}else{r=window.location.href}if(r.indexOf(t)<0){var i=encodeURIComponent(r);if(t.indexOf("?")<0){parameter="?url="+i+"&module="+e}else{parameter="&url="+i+"&module="+e}if(window.location.pathname.indexOf("HPGA01P0")>-1){window.parent.location.href=t+parameter}else{window.location.href=t+parameter}}},getObject:function(e){if(!DC_browserInfo.MSIE){var t=true;if(!this.isInstallPlugin(t)){if(typeof e!="undefined"&&e==false)return null;this.goInstallPage();return null}}if(document.getElementById("DelfinoCrypto")==null){$("body").append(this.getObjectTag())}if(DC_browserInfo.MSIE){if(!this.isInstallActiveX()){if(document.getElementById("delfinoDiv2")==null){$("#delfinoDiv").remove();$("body").append(this.getObjectTag(true))}if(!this.isInstallActiveX()){if(typeof e!="undefined"&&e==false)return null;this.goInstallPage();return null}}}return document.DelfinoCrypto},generatePKCS7SignedData:function(data,successCallback,errorCallback){if(DC_disableBrowserTimeout())return;var obj=this.getObject();setTimeout(function(){var ret=obj.generatePKCS7SignedData(data,DC_pkcs7DigestAlg,successCallback,errorCallback);if(ret==""){}else if(ret=="cancel"){var script=errorCallback+"(0, 'cancel')";eval(script)}else{var pkcs7="";var vidRandom="";var keyValues=ret.split("&");for(var i=0;i<keyValues.length;i++){var keyValue=keyValues[i].split("=");if(keyValue[0]=="PKCS7")pkcs7=decodeURIComponent(keyValue[1]);if(keyValue[0]=="VID_RANDOM")vidRandom=decodeURIComponent(keyValue[1])}var script=successCallback+"('"+pkcs7+"', '"+vidRandom+"')";eval(script)}},1)},generateMultiPKCS7SignedData:function(datas,delimeter,successCallback,errorCallback){if(DC_disableBrowserTimeout())return;var obj=this.getObject();setTimeout(function(){var ret=obj.generateMultiPKCS7SignedData(datas,delimeter,DC_pkcs7DigestAlg,successCallback,errorCallback);if(ret==""){}else if(ret=="cancel"){var script=errorCallback+"(0, 'cancel')";eval(script)}else{var pkcs7="";var vidRandom="";var keyValues=ret.split("&");for(var i=0;i<keyValues.length;i++){var keyValue=keyValues[i].split("=");if(keyValue[0]=="PKCS7")pkcs7=decodeURIComponent(keyValue[1]);if(keyValue[0]=="VID_RANDOM")vidRandom=decodeURIComponent(keyValue[1])}var script=successCallback+"('"+pkcs7+"', '"+vidRandom+"')";eval(script)}},1)},resetCertificate:function(){if(this.getObject()==null)return;this.getObject().resetCertificate()},setConfig:function(e){if(this.getObject()==null)return;this.getObject().setConfig(e)},manageCertificate:function(){var e=this.getObject();setTimeout(function(){e.manageCertificate()},1)},setProperty:function(e,t){if(this.getObject()==null)return;this.getObject().setProperty(e,t)},requestCertificate:function(e,t,r,i,n,a){var o=this.getObject();if(o==null)return;setTimeout(function(){try{o.requestCertificate(e,t,r,i,n,a)}catch(s){alert("requestCertificate:"+s)}},1)},updateCertificate:function(e,t,r,i){var n=this.getObject();if(n==null)return;setTimeout(function(){try{n.updateCertificate(e,t,r,i)}catch(a){alert("updateCertificate:"+a)}},1)},requestCertificate2:function(e,t,r,i,n,a,o){if(DC_disableBrowserTimeout())return;var s=this.getObject();if(s==null)return;setTimeout(function(){var f=s.requestCertificate2(e,t,r,i,n,a,o);if(f!=""){Delfino_complete(e,f)}},1)},updateCertificate2:function(e,t,r,i,n){if(DC_disableBrowserTimeout())return;var a=this.getObject();if(a==null)return;setTimeout(function(){var o=a.updateCertificate2(e,t,r,i,n);if(o!=""){Delfino_complete(e,o)}},1)},importCertificateFromPC:function(e,t){alert("'importCertificateFromPC' not supported")},exportCertificateToPC:function(e,t){alert("'exportCertificateToPC' not supported")},setLang:function(e,t){if(this.getObject()==null)return;this.getObject().setLang(e,t)},getProperty:function(e){if(this.getObject()==null)return"";return this.getObject().getProperty(e)},sign:function(e,t,r){if(DC_disableBrowserTimeout())return;var i=this.getObject();setTimeout(function(){r=jQuery.parseJSON(r);r.returnType="json";var n=i.sign(e,t,JSON.stringify(r));if(n==""){}else if(n=="cancel"){var a={status:0};a=JSON.stringify(a);Delfino_complete(e,a)}else if(n.substring(0,1)=="{"){Delfino_complete(e,n)}else{var a={status:1};var o=n.split("&");for(var s=0;s<o.length;s++){var f=o[s].split("=");if(f.length==2){f[0]=f[0].replace(/\+/g," ");f[1]=f[1].replace(/\+/g," ");if(f[0]=="PKCS7"){a["signData"]=decodeURIComponent(f[1])}else if(f[0]=="VID_RANDOM"){a["vidRandom"]=decodeURIComponent(f[1])}else{a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}}}a=JSON.stringify(a);Delfino_complete(e,a)}},1)},deleteCertificate:function(e,t,r){var i=this.getObject();if(i==null)return"";var n=i.deleteCertificate(e,t,r);if(n!=""){Delfino_complete(e,n)}},getVersion:function(){var e=this.getObject();if(e==null)return null;return e.getVersion()}};window.DCryptoPlugin=DCryptoPlugin;var DCryptoAndroid={init:function(e){if(navigator.userAgent.match(/Delfino/i)){return true}else{if(typeof e!="undefined"&&e==false)return false;if(typeof DC_installMessage.Mobile!="undefined"&&DC_installMessage.Mobile!=""){if(!confirm(DC_installMessage.Mobile))return false}if(document.getElementById("delfino_check")!=null){$("#delfino_check").remove()}var t="wizvera-delfino://"+encodeURIComponent(window.location.href);if(DC_mobileProviderName=="kbstar")t="kbbank://call?cmd=move_to&id=mobileWeb&data="+encodeURIComponent('{"url":"'+window.location.href+'"}');$("body").append('<iframe src="'+t+'" id="delfino_check" style="display:none" ></iframe>');setTimeout(function(){if(document.getElementById("delfino_check").contentWindow.document==null){DCryptoAndroid.goInstallPage()}},2e3);return false}},goInstallPage:function(){var e=DC_installPage.Android;var t=window.location.href;if(t.indexOf(e)<0){var r=encodeURIComponent(t);if(e.indexOf("?")<0){parameter="?url="+r}else{parameter="&url="+r}window.location.href=e+parameter}return false},getObjectTag:function(){return""},getObject:function(){return window.DelfinoCrypto},generatePKCS7SignedData:function(e,t,r){window.DelfinoCrypto.generatePKCS7SignedData(e,DC_pkcs7DigestAlg,t,r)},generateMultiPKCS7SignedData:function(e,t,r,i){window.DelfinoCrypto.generateMultiPKCS7SignedData(e,t,DC_pkcs7DigestAlg,r,i)},resetCertificate:function(){window.DelfinoCrypto.resetCertificate()},setConfig:function(e){window.DelfinoCrypto.setConfig(e)},manageCertificate:function(){window.DelfinoCrypto.manageCertificate()},setProperty:function(e,t){window.DelfinoCrypto.setProperty(e,t)},requestCertificate:function(e,t,r,i,n,a){window.DelfinoCrypto.requestCertificate(e,t,r,i,n,a)},updateCertificate:function(e,t,r,i){window.DelfinoCrypto.updateCertificate(e,t,r,i)},importCertificateFromPC:function(e,t){window.DelfinoCrypto.importCertificateFromPC(e,t)},exportCertificateToPC:function(e,t){window.DelfinoCrypto.exportCertificateToPC(e,t)},setLang:function(e,t){},getProperty:function(e){try{return window.DelfinoCrypto.getProperty(handle,param)}catch(t){return""}},sign:function(e,t,r){return window.DelfinoCrypto.sign(e,t,r)}};var DCryptoMobileUrlHandler={requestResultDataDelayTime:2e3,delfinoScheme:"wizvera-delfino://",config:{},delayTime:1e3,retryCount:60,init:function(e){return true},goInstallPage:function(){if(DC_platformInfo.iOS){window.location.href=DC_installPage.iOS}else if(DC_platformInfo.Android){window.location.href=DC_installPage.Android}else{alert("지원하지 않는 기기입니다.")}return false},getObjectTag:function(){return""},getObject:function(){return this},resetCertificate:function(){},setConfig:function(e){this.config={};var t=e.split("&");for(var r=0;r<t.length;r++){var i=t[r].split("=");if(i.length==2){this.config[i[0]]=decodeURIComponent(i[1])}}},manageCertificate:function(e,t){t=jQuery.parseJSON(t);t=t||{};t.transferInfo=JSON.stringify(DC_transferInfo);var r={handle:e,options:JSON.stringify(t),serverUrl:DC_mobileUrlHandlerServerUrl};DC_disableBrowser("인증서관리중");var i=this._encryptRequest(jQuery.param(r));var n="wizvera-delfino://manageCertificate?";n+=jQuery.param({config:jQuery.param(this.config),secureData:i,returnUrl:this._makeReturnUrl()});this._call(n);this._requestResultData()},setProperty:function(e,t){if(t==null)return;if(e=="logoImage")return;this.config[e]=t},requestCertificate:function(e,t,r,i,n,a,o){alert("[DEBUG] requestCertificate()");DC_disableBrowser("인증서발급중");var s=Delfino.addComplete(function(e){window[a](e.status,e.message)});var f={handle:s,ca:e,host:t,port:r,referenceValue:i,secretValue:n,options:o,serverUrl:DC_mobileUrlHandlerServerUrl};var u=this._encryptRequest(jQuery.param(f));var l="wizvera-delfino://requestCertificate?";l+=jQuery.param({secureData:u,returnUrl:this._makeReturnUrl()});this._call(l);this._requestResultData()},updateCertificate:function(e,t,r,i){alert("[DEBUG] updateCertificate()");DC_disableBrowser("인증서갱신중");var n=Delfino.addComplete(function(e){window[i](e.status,e.message)});var a={handle:n,ca:e,host:t,port:r,options:"",serverUrl:DC_mobileUrlHandlerServerUrl};var o=this._encryptRequest(jQuery.param(a));var s="wizvera-delfino://updateCertificate?";s+=jQuery.param({secureData:o,returnUrl:this._makeReturnUrl()});this._call(s);this._requestResultData()},requestCertificate2:function(e,t,r,i,n,a,o){DC_disableBrowser("인증서발급중");var s={handle:e,ca:t,host:r,port:i,referenceValue:n,secretValue:a,options:o,serverUrl:DC_mobileUrlHandlerServerUrl};var f=this._encryptRequest(jQuery.param(s));var u="wizvera-delfino://requestCertificate?";u+=jQuery.param({config:jQuery.param(this.config),secureData:f,returnUrl:this._makeReturnUrl()});this._call(u);this._requestResultData()},updateCertificate2:function(e,t,r,i,n){DC_disableBrowser("인증서갱신중");var a={handle:e,ca:t,host:r,port:i,options:"",serverUrl:DC_mobileUrlHandlerServerUrl};var o=this._encryptRequest(jQuery.param(a));var s="wizvera-delfino://updateCertificate?";s+=jQuery.param({config:jQuery.param(this.config),secureData:o,returnUrl:this._makeReturnUrl()});this._call(s);this._requestResultData()},deleteCertificate:function(e,t,r){DC_disableBrowser("인증서갱신중");var i={handle:e,subjectDN:t,options:r,serverUrl:DC_mobileUrlHandlerServerUrl};var n=this._encryptRequest(jQuery.param(i));var a="wizvera-delfino://deleteCertificate?";a+=jQuery.param({config:jQuery.param(this.config),secureData:n,returnUrl:this._makeReturnUrl()});this._call(a);this._requestResultData()},importCertificate:function(e,t){if(!DC_platformInfo.iOS)return;DC_disableBrowser("인증서가져오기중");var r={handle:e,params:t,serverUrl:DC_mobileUrlHandlerServerUrl};var i=this._encryptRequest(jQuery.param(r));var n="wizvera-delfino://importCertificate?";n+=jQuery.param({config:jQuery.param(this.config),secureData:i,returnUrl:this._makeReturnUrl()});this._call(n);this._requestResultData()},exportCertificate:function(e,t){if(!DC_platformInfo.iOS)return;DC_disableBrowser("인증서내보내기중");var r={handle:e,params:t,serverUrl:DC_mobileUrlHandlerServerUrl};var i=this._encryptRequest(jQuery.param(r));var n="wizvera-delfino://exportCertificate?";n+=jQuery.param({config:jQuery.param(this.config),secureData:i,returnUrl:this._makeReturnUrl()});this._call(n);this._requestResultData()},importCertificateFromPC:function(e,t){DC_disableBrowser("인증서가져오기중");var r={handle:e,params:t,serverUrl:DC_mobileUrlHandlerServerUrl};var i=this._encryptRequest(jQuery.param(r));var n="wizvera-delfino://importCertificateFromPC?";n+=jQuery.param({config:jQuery.param(this.config),secureData:i,returnUrl:this._makeReturnUrl()});this._call(n);DC_enableBrowser();this._requestResultData()},exportCertificateToPC:function(e,t){DC_disableBrowser("인증서내보내기중");var r={handle:e,params:t,serverUrl:DC_mobileUrlHandlerServerUrl};var i=this._encryptRequest(jQuery.param(r));var n="wizvera-delfino://exportCertificateToPC?";n+=jQuery.param({config:jQuery.param(this.config),secureData:i,returnUrl:this._makeReturnUrl()});this._call(n);this._requestResultData()},setLang:function(e,t){},getProperty:function(e){return""},_fixSignOption:function(e){e=jQuery.parseJSON(e);if(e.multiSign){e.format=""}e=JSON.stringify(e);return e},sign:function(e,t,r){DC_disableBrowser("서명요청중");try{if(!this._sign(e,t,r)){DC_enableBrowser();return}this._requestResultData()}catch(i){alert("sign error:"+i);DC_enableBrowser()}},_makeReturnUrl:function(){if(navigator.userAgent.match(/CriOS/i)){if(window.location.protocol=="http:"){return"googlechrome:"+window.location.href.substring(5)}else if(window.location.protocol=="https:"){return"googlechromes:"+window.location.href.substring(6)}}if(DC_platformInfo.iOS&&window.self!==window.top){return DC_closeHtml}else{return window.location.href}},_sign:function(e,t,r){this.setProperty("transferInfo",JSON.stringify(DC_transferInfo));var i={handle:e,data:t,options:r,serverUrl:DC_mobileUrlHandlerServerUrl};var n=this._encryptRequest(jQuery.param(i));if(!n){alert("encryptRequest fail");return false}var a="wizvera-delfino://sign?";a+=jQuery.param({config:jQuery.param(this.config),secureData:n,returnUrl:this._makeReturnUrl()});this._call(a);return true},_call:function(e){if(DC_platformInfo.Android){var t="";var r="com.wizvera.dolphin";var i=e.split("://",2);t="intent://"+i[1]+"#Intent;scheme="+i[0]+";package="+r+";end";top.window.location=t}else{top.window.location=e}if(!DC_platformInfo.Android){var n=(new Date).getTime();setTimeout(function(){var e=(new Date).getTime();if(e-n<2500){DCryptoMobileUrlHandler.goInstallPage()}},2e3)}},_encryptRequest:function(e){var t={action:"encrypt",tbeData:e};var r=DC_post(DC_mobileUrlHandlerServerUrl,jQuery.param(t));return r},_requestResultDataAndroidChrome:function(e,t,r){var i=e;var t=t;var r=r;i--;var n=DC_get(DC_mobileUrlHandlerServerUrl);n=jQuery.parseJSON(n);var a=n["resultData"];if(a==null){if(i>0){try{setTimeout(function(){DCryptoMobileUrlHandler._requestResultDataAndroidChrome(i,t,r)},this.delayTime)}catch(o){}}else if(i==0){DC_get(DC_mobileUrlHandlerServerUrl+"?finish");DC_enableBrowser();return}}else{if(t){var s=n["resultData"];if(s==null){window[r](-1,"error");return}s=jQuery.parseJSON(s);if(s.status==1){window[t](s.signData,s.vidRandom)}else{window[r](s.status,s.message)}}else{var f=n["handle"];var u=n["resultData"];try{window["Delfino_complete"](f,u)}catch(o){alert("error:"+o)}}DC_enableBrowser()}},_requestResultData:function(e,t){if(DC_platformInfo.Android&&DC_browserInfo.Chrome){var r=this.retryCount;this._requestResultDataAndroidChrome(r)}else{setTimeout(function(){try{var r=DC_get(DC_mobileUrlHandlerServerUrl);r=jQuery.parseJSON(r);if(e){var i=r["resultData"];if(i==null){window[t](-1,"error");return}i=jQuery.parseJSON(i);if(i.status==1){window[e](i.signData,i.vidRandom)}else{window[t](i.status,i.message)}}else{var n=r["handle"];var a=r["resultData"];try{window["Delfino_complete"](n,a)}catch(o){alert("error:"+o)}}DC_enableBrowser()}catch(o){alert("requestResultData error:"+o);DC_enableBrowser()}},this.requestResultDataDelayTime)}}};function CallObject(e,t,r){this.fn=e;this.arg=t;this.oncomplete=r}CallObject.prototype.complete=function(e){if(this.oncomplete!=null){this.oncomplete(e)}};var CallManager={callObjs:new Array,internalCall:function(e){var t="dolphin-sc://";t+=e.fn+"?";for(var r=0;r<e.arg.length;r++){if(r!=0)t+="&";t+=encodeURIComponent(e.arg[r])}t+="/CallManager.complete";if(jQuery("#Delfino_iframe").length==0){jQuery("body").append('<iframe id="Delfino_iframe" style="display:none"></iframe>')}$("#Delfino_iframe").attr("src",t)},call:function(e){this.callObjs[this.callObjs.length]=e;if(this.callObjs.length==1){this.internalCall(e)}},complete:function(e){callObj=this.callObjs.shift();callObj.complete(e);if(this.callObjs.length>0){this.internalCall(this.callObjs[0])}}};function DC_getPlguinInfo(e){var t=navigator.plugins;if(t==null||t.length==0)return false;for(var r=0;r<t.length;r++){try{if(typeof t[r][0]=="undefined")continue;var i=t[r][0].type;if(i==e)return t[r][0]}catch(n){}}return null}function DC_compareVersion(e,t){var r=e.split(/\.|,/);var i=t.split(/\.|,/);var n=Math.min(r.length,i.length);for(var a=0;a<n;a++){var o=parseInt(r[a],10);var s=parseInt(i[a],10);if(o!=s)return o-s}if(r.length==i.length)return 0;for(var a=n;a<r.length;a++){var o=parseInt(r[a],10);if(o!=0)return 1}for(var a=n;a<i.length;a++){var s=parseInt(i[a],10);if(s!=0)return-1}return 0}window.DC_compareVersion=DC_compareVersion;function DC_getPlguinVersion(e){if(e==null)return"1.0.0.0";e=e.enabledPlugin;if(e==null)return"1.0.0.0";var t=e.description;if(t=="")return"1.0.0.0";var r=t.lastIndexOf(" ");var i=t.substring(r+1);return i}function DC_getBrowserInfo(){var e={MSIE:false,Edge:false,Navigator:false,Firefox:false,Chrome:false,Safari:false,Opera:false,ChromePlus:false,ETC:false,name:"unknown",version:"-1"};try{var t=-1;var r="";if(navigator.appName=="Microsoft Internet Explorer"){e.MSIE=true;e.name="MSIE";t=navigator.userAgent.indexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);t=r.indexOf(";");if(t<0)t=r.indexOf(")");e.version=r.substring(0,t);if(navigator.userAgent.match(/Trident/i)&&e.version.indexOf("Windows")>0){e.ETC=true;t=navigator.userAgent.lastIndexOf("rv:")+"rv:".length;r=navigator.userAgent.substring(t);t=r.indexOf(")");if(t<0)t=r.indexOf(" ");e.version=r.substring(0,t)}}else if(navigator.userAgent.match(/Edge/i)){e.Edge=true;e.name="Edge";t=navigator.userAgent.lastIndexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Navigator/i)){e.Navigator=true;e.name="Navigator";t=navigator.userAgent.lastIndexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/OPR/i)){e.Opera=true;e.name="Opera";t=navigator.userAgent.lastIndexOf("OPR")+"OPR".length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Firefox/i)){e.Firefox=true;e.name="Firefox";t=navigator.userAgent.lastIndexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Chrome/i)){e.Chrome=true;e.name="Chrome";if(navigator.userAgent.match(/ChromePlus/i)){e.ChromePlus=true;e.name="ChromePlus"}t=navigator.userAgent.lastIndexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Safari/i)){e.Safari=true;e.name="Safari";t=navigator.userAgent.lastIndexOf("Version")+"Version".length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Opera/i)){e.Opera=true;e.name=navigator.appName;t=navigator.userAgent.lastIndexOf("Version")+"Version".length+1;r=navigator.userAgent.substring(t);e.version=r;t=r.indexOf(" ");if(t>0)e.version=r.substring(0,t)}else if(navigator.userAgent.match(/Trident/i)){e.MSIE=true;e.name="MSIE";t=navigator.userAgent.lastIndexOf("rv:")+"rv:".length;if(t<=2)t=navigator.userAgent.indexOf(e.name)+e.name.length+1;r=navigator.userAgent.substring(t);t=r.indexOf(")");if(t<0||t>10)t=r.indexOf(";");if(t<0||t>10)t=r.indexOf(" ");e.version=r.substring(0,t)}else{e.ETC=true;e.name=navigator.appName;e.version="NOT_OK"}}catch(i){alert("DC_getBrowserInfo["+i.description+"]")}return e}function DC_getPlatformInfo(){var e={Windows:false,Linux:false,Ubuntu:false,Fedora:false,Mac:false,iOS:false,Android:false,Mobile:false,x64:false,type:"unknown",name:"unknown"};e.name=navigator.platform;if(navigator.appVersion.match("WOW64"))e.name="WOW64";if(e.name.match(/Win32/i)||e.name.match(/WOW64/i)){e.Windows=true;e.type="Windows";if(navigator.appVersion.match(/Win64/i)){e.name="Win64";e.x64=true;e.type="Windows64"}}else if(e.name.match("Win64")){e.Windows=true;e.x64=true;e.type="Windows64"}else if(e.name.match("Linux armv")){e.Mobile=true;e.Android=true;e.type="Android"}else if(e.name.match(/Linux/i)){e.Linux=true;e.type="Linux";if(e.name.match(/x86_64/i)){e.x64=true;e.type="Linux64"}else if(navigator.userAgent.match(/x86_64/i)){e.x64=true;e.type="Linux64"}if(navigator.userAgent.match(/Fedora/i)){e.Fedora=true;e.type="Fedora";if(e.x64)e.type="Fedora64"}else if(navigator.userAgent.match(/Ubuntu/i)){e.Ubuntu=true;e.type="Ubuntu";if(e.x64)e.type="Ubuntu64"}}else if(e.name.match(/MacIntel/i)){e.Mac=true;e.type="Mac"}else if(e.name=="iPad"||e.name=="iPhone"||e.name=="iPod"||e.name=="iOS"){e.Mobile=true;e.iOS=true;e.type="iOS"}if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)){e.Mobile=true}if(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Windows CE/i)||navigator.userAgent.match(/Symbian/i)||navigator.userAgent.match(/BlackBerry/i)){e.Mobile=true}if(navigator.userAgent.match("Android")&&navigator.userAgent.match("Opera Mini")){e.Mobile=true;e.Android=true;e.type="Android"}return e}function DC_disableBrowserTimeout(){if(jQuery("#dc_overlay")!=null&&jQuery("#dc_overlay").length>0)return true;var e='<div id="dc_overlay" style="z-index:100000;position:fixed; width:100%; height:100%; top:0px; left:0px; background-color: rgba(0,0,0,0.0);"></div>';jQuery("body").append(e);setTimeout(DC_enableBrowser,1e3);return false}function DC_enableBrowser(){jQuery("#dc_overlay").remove()}window.DC_enableBrowser=DC_enableBrowser;var JSON=window.JSON||new Object;window.JSON=JSON;JSON.stringify=JSON.stringify||function(e){var t=typeof e;if(t!="object"||e===null){if(t=="string"){e=e.replace(/\\/g,"\\\\");e=e.replace(/"/g,'\\"');e='"'+e+'"'}return String(e)}else{var r,i,n=[],a=e&&e.constructor==Array;for(r in e){i=e[r];t=typeof i;if(t=="string"){i=i.replace(/\\/g,"\\\\");i=i.replace(/"/g,'\\"');i='"'+i+'"'}else if(t=="object"&&i!==null)i=JSON.stringify(i);if(t!="function")n.push((a?"":'"'+r+'":')+String(i))}return(a?"[":"{")+String(n)+(a?"]":"}")}};function DC_disableBrowser(e){if(jQuery("#dc_overlay")!=null&&jQuery("#dc_overlay").length>0)return;var t='<div id="dc_overlay" style="z-index:100000;position:fixed; width:100%; height:100%; top:0px; left:0px; background-color: #000000; opacity: 0.3; filter: alpha(opacity=30);">';if(e&&DC_processingImageUrl){t+='<div style="z-index:100001;position:fixed;top:50%; height:100%;width:100%;">'+'<div style="margin: 0 auto; padding: 5px; width:150px; background-color:#fff; vertical-align:middle; font-weight:bold; text-align: center; color:#555;  border-radius:5px;">'+e+' <img src="'+DC_processingImageUrl+'" style="vertical-align:middle"/>'+"</div>"+"</div>"}else if(DC_processingImageUrl){t+='<div style="z-index:100001;position:fixed;top:50%; height:100%;width:100%;">'+'<div style="margin: 0 auto; padding: 5px; width:26px; height:26px;  background-color:#fff; vertical-align:middle; font-weight:bold; text-align: center; color:#555;  border-radius:5px;">'+' <img src="'+DC_processingImageUrl+'" style="vertical-align:middle"/>'+"</div>"+"</div>"}t+="</div>";jQuery("body").append(t)}window.DC_disableBrowser=DC_disableBrowser;function DC_get(e){var t="";jQuery.ajax({url:e,async:false,dataType:"text",cache:false,success:function(e){t=e}});t=t.replace(/^\s*/,"").replace(/\s*$/,"");return t}window.DC_get=DC_get;function DC_post(e,t){var r="";$.ajax({async:false,type:"POST",url:e,data:t,cache:false,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"text",success:function(e,t,i){r=e},error:function(e,t,r){alert("ajax error:"+e)}});return r}window.DC_post=DC_post;function DC_base64ToHex(e){var t=wizvera.kryptos.util.decode64(e);return wizvera.kryptos.util.binary.hex.encode(t)}window.DC_base64ToHex=DC_base64ToHex;window.wiz=window.wiz||{};var wiz=window.wiz;wiz.util={};wiz.util.timer=function(e,t){this._int=e;this._fn=t;this._id=-1;this.start=function(){if(this._id>=0)return;this._id=setInterval(this._fn,this._int)};this.stop=function(){if(this._id>0){clearInterval(this._id);this._id=-1}}};wiz.util.cookie=wiz.util.cookie||function(){_cookie={};_cookie.get=function(e){var t=e+"=";var r=document.cookie.split(";");for(var i=0;i<r.length;i++){var n=r[i];while(n.charAt(0)==" ")n=n.substring(1,n.length);if(n.indexOf(t)==0){return n.substring(t.length,n.length)}}return""};return _cookie}();var DcryptoHandlerData=DcryptoHandlerData||function(){var e={};e.version="0.0.0.0";return e}();window.DcryptoHandlerData=DcryptoHandlerData;var DCryptoHandler=DCryptoHandler||function(e){var t={};var r;var i=null;r=new wiz.util.timer(2e3,function(){delfino.handler.getResult({}).onsuccess(function(t,r){if(t.res==8){alert("암호화 채널이 유효하지 않습니다.");DC_enableBrowser();return}if(t.res==0){var i=t.data;if(t.encryptedData!=undefined&&t.encryptedData==true){i=delfino.handler.secure.dec(i);i=e.parseJSON(i);if(i=="")return}delfino.handler.execResult(i);for(var n=0;n<i.length;n++){var a=i[n];if(a.func=="Delfino_eraseCookie"||a.func=="Delfino_createCookie")continue;DC_enableBrowser()}}}).invoke()});var n=DCryptoPlugin;n.par_goInstallPage=n.goInstallPage;e.extend(true,t,n);t.goInstallPage=function(){var e=this;setTimeout(function(){if(e.getObject(false)==null){e.par_goInstallPage("G3")}},500)};t.startGetResultTimer=function(){DC_disableBrowser("wait");r.start()};t.getObject=function(e){if(e==false){if(DcryptoHandlerData.version!=""&&DcryptoHandlerData.version!="0.0.0.0")i={};return i}if(i==null){this.goInstallPage()}return i};t.init=function(e){return this.getObject(e)!=null};t.manageCertificate=function(r){if(typeof r==="string")r=e.parseJSON(r);r=r||{};if(r.lang==null&&t.lang!=null){if(t.settedLang!=t.lang.name){r.lang=t.lang}}if(r.lang!=null)t.settedLang=r.lang.name;if(r.lang){}delfino.handler.manageCertificate({options:r}).invoke()};t.setConfig=function(e){delfino.handler.setConfig(e).invoke()};t.setProperty=function(e,t){delfino.handler.setProperty(e,t).invoke()};t.setPropertyJson=function(e){delfino.handler.setPropertyJson(e).invoke()};t.setLang=function(e,r){t.lang={};t.lang.name=e;t.lang.value=r};t.resetCertificate=function(){delfino.handler.resetCertificate({}).invoke()};t.getVersion=function(){if(DcryptoHandlerData.version!=""&&DcryptoHandlerData.version!="0.0.0.0")return DcryptoHandlerData.version;delfino.handler.helper.isInstall({error:function(){DCrypto.par_goInstallPage()}})};t.sign=function(r,i,n){if(typeof n==="string")n=e.parseJSON(n);n=n||{};if(n.lang==null&&t.lang!=null){if(t.settedLang!=t.lang.name){n.lang=t.lang}}if(n.lang!=null)t.settedLang=n.lang.name;r=r.toString();delfino.handler.sign({handle:r,data:i,options:n}).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.generatePKCS7SignedData=function(e,t,r){delfino.handler.generatePKCS7SignedData(e,DC_pkcs7DigestAlg,t,r).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.requestCertificate=function(e,t,r,i,n,a){delfino.handler.requestCertificate({ca:e,host:t,port:r,ref:i,secret:n,complete:a}).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.requestCertificate2=function(r,i,n,a,o,s,f){if(typeof f==="string")f=e.parseJSON(f);f=f||{};if(f.lang==null&&t.lang!=null){if(t.settedLang!=t.lang.name){f.lang=t.lang}}if(f.lang!=null)t.settedLang=f.lang.name;r=r.toString();delfino.handler.requestCertificate2({handle:r,ca:i,host:n,port:a,ref:o,secret:s,options:f}).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.updateCertificate=function(e,t,r,i){delfino.handler.updateCertificate({ca:e,host:t,port:r,complete:i}).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.updateCertificate2=function(r,i,n,a,o){if(typeof o==="string")o=e.parseJSON(o);o=o||{};if(o.lang==null&&t.lang!=null){if(t.settedLang!=t.lang.name){o.lang=t.lang}}if(o.lang!=null)t.settedLang=o.lang.name;r=r.toString();delfino.handler.updateCertificate2({handle:r,ca:i,host:n,port:a,options:o}).onsuccess(this.successCheck).invoke();this.startGetResultTimer()};t.successCheck=function(e){if(e.res!=0){r.stop();DC_enableBrowser();Delfino.setHandlerInit(false);if(e.res==7||e.res==8||e.res==9||e.res==10){}else{alert("Delfino Handler Error : code = "+e.res)}}};return t}(jQuery);var DCryptoHtml5=DCryptoHtml5||function(e){var t={};var r;var i={};t.goInstallPage=function(){alert("html5:unsupported")};t.getObject=function(e){return i};t.init=function(e){return Delfino4Html.init()};t.manageCertificate=function(){Delfino4Html.manageCertificate()};t.setConfig=function(e){Delfino4Html.setConfig(e)};t.setProperty=function(e,t){Delfino4Html.setProperty(e,t)};t.setPropertyJson=function(e){alert("todo:html5.setPropertyJson:"+JSON.stringify(e))};t.setLang=function(e,t){Delfino4Html.setProperty("lang",{name:e,value:t})};t.resetCertificate=function(){};t.getVersion=function(){return""};t.sign=function(t,r,i){i=e.parseJSON(i);i.logoUrl=DelfinoConfig.logoImageUrl_html5;Delfino4Html.sign(r,i,function(e){Delfino_complete(t,e)})};t.generatePKCS7SignedData=function(e,t,r){alert("todo:html5.generatePKCS7SignedData")};t.requestCertificate=function(e,t,r,i,n,a){var o={};Delfino4Html.requestCertificate(e,t,r,i,n,o,function(e){if(e.status==1){window[a](e.status,e.message)}else{alert("Error\n\n"+e.message);window[a](e.status,e.message)}})};t.requestCertificate2=function(t,r,i,n,a,o,s){s=e.parseJSON(s);Delfino4Html.requestCertificate(r,i,n,a,o,s,function(e){e.cmd="requestCertificate2";Delfino_complete(t,e)})};t.updateCertificate=function(e,t,r,i){var n={};Delfino4Html.updateCertificate(e,t,r,n,function(e){if(e.status==1){window[i](e.status,e.message)}else{alert("Error\n\n"+e.message);window[i](e.status,e.message)}})};t.updateCertificate2=function(t,r,i,n,a){a=e.parseJSON(a);Delfino4Html.updateCertificate(r,i,n,a,function(e){e.cmd="updateCertificate2";Delfino_complete(t,e)})};t.importCertificate=function(t,r){r=e.parseJSON(r);if(r.place!="DelfinoG4"){Delfino_complete(t,{status:-1,message:"unsupported",cmd:"exportCertificate"});return}Delfino4Html.importCertificateFromDelfino4Html(function(e){e.cmd="importCertificate";Delfino_complete(t,e)})};t.exportCertificate=function(t,r){r=e.parseJSON(r);if(r.place!="DelfinoG4"){Delfino_complete(t,{status:-1,message:"unsupported",cmd:"exportCertificate"});return}Delfino4Html.exportCertificateToDelfino4Html(function(e){e.cmd="exportCertificate";Delfino_complete(t,e)})};t.embedShow=function(t,r){r=e.parseJSON(r);Delfino4Html.embedShow(r,function(e){Delfino_complete(t,e)})};return t}(jQuery);try{var result=DelfinoConfig.module.all;var module=null;if(DC_platformInfo.Windows){module=DelfinoConfig.module.win32;if(DC_platformInfo.x64)module=DelfinoConfig.module.win64}else if(DC_platformInfo.Mac){module=DelfinoConfig.module.mac}else if(DC_platformInfo.Linux){module=DelfinoConfig.module.linux}else if(DC_platformInfo.Mobile){module=DelfinoConfig.module.mobile}if(typeof module!="undefined"){if(typeof module.all=="string")result=module.all;if(DC_browserInfo.Chrome){if(typeof module.chrome=="string")result=module.chrome}else if(DC_browserInfo.Firefox){if(typeof module.firefox=="string")result=module.firefox}else if(DC_browserInfo.Opera){if(typeof module.opera=="string")result=module.opera}else if(DC_browserInfo.Safari){if(typeof module.safari=="string")result=module.safari}else if(DC_browserInfo.Edge){if(typeof module.edge=="string")result=module.edge}else if(DC_browserInfo.MSIE){if(typeof module.msie=="string")result=module.msie;var currVersion=parseInt(DC_browserInfo.version);if(currVersion==11&&typeof module.msie11=="string")result=module.msie11;if(currVersion==10&&typeof module.msie10=="string")result=module.msie10;if(currVersion==9&&typeof module.msie09=="string")result=module.msie09;if(currVersion==8&&typeof module.msie08=="string")result=module.msie08;if(currVersion==7&&typeof module.msie07=="string")result=module.msie07;if(currVersion==6&&typeof module.msie06=="string")result=module.msie06}}if(typeof DelfinoConfig.module!="string")DelfinoConfig.module=result;DelfinoConfig.module_org=DelfinoConfig.module;if("G2"==wiz.util.cookie.get("delfinoModuleType"))DelfinoConfig.module="G2";if("G3"==wiz.util.cookie.get("delfinoModuleType"))DelfinoConfig.module="G3";if("G4"==wiz.util.cookie.get("delfinoModuleType"))DelfinoConfig.module="G4"}catch(e){alert("delfino_internal.js: DelfinoConfig.module Error: "+e)}window.DC_module="G2";function DC_setModule(e){window.DC_module=e;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)){window.DCrypto=DC_mobileUrlHandlerType?DCryptoMobileUrlHandler:DCryptoIOS;if(e=="G4")window.DCrypto=DCryptoHtml5}else if(navigator.userAgent.match(/Android/i)){window.DCrypto=DC_mobileUrlHandlerType?DCryptoMobileUrlHandler:DCryptoAndroid;if(e=="G4")window.DCrypto=DCryptoHtml5}else if(navigator.userAgent.match(/AppleWebKit/i)&&navigator.userAgent.match(/Qt/i)){window.DCrypto=DCryptoDelfino}else if(navigator.userAgent.match(/Windows NT/i)||navigator.userAgent.match(/Linux/i)||navigator.userAgent.match(/Mac OS X/i)){window.DCrypto=DCryptoPlugin;if(e=="G3")window.DCrypto=DCryptoHandler;if(e=="G4")window.DCrypto=DCryptoHtml5}else if(navigator.appName=="Microsoft Internet Explorer"&&!navigator.userAgent.toLowerCase().match(/phone os/i)){window.DCrypto=DCryptoPlugin;if(e=="G3")window.DCrypto=DCryptoHandler;if(e=="G4")window.DCrypto=DCryptoHtml5}else if(navigator.userAgent.match(/Trident/i)){window.DCrypto=DCryptoPlugin;if(e=="G3")window.DCrypto=DCryptoHandler;if(e=="G4")window.DCrypto=DCryptoHtml5}else if(navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Windows CE/i)||navigator.userAgent.match(/Symbian/i)){window.DCrypto=null}else{window.DCrypto=window.DelfinoCrypto}if(e=="G3"){DelfinoConfig.version=DelfinoConfig.version_g3;DelfinoConfig.installPkg=DelfinoConfig.installPkg_g3;DC_version=DelfinoConfig.version;window.DC_version=DC_version;DC_installPkg=DelfinoConfig.installPkg;window.DC_installPkg=DC_installPkg}else{DelfinoConfig.version=DelfinoConfig.version_g2;DelfinoConfig.installPkg=DelfinoConfig.installPkg_g2;DC_version=DelfinoConfig.version;window.DC_version=DC_version;DC_installPkg=DelfinoConfig.installPkg;window.DC_installPkg=DC_installPkg}}window.DC_setModule=DC_setModule;DC_setModule(DelfinoConfig.module)}var name="gen-delfino_internal";function addWizvera(){if(typeof initModule!=="function")return;var e={};if(typeof window==="object"){if(typeof window.wizvera==="object"){e=window.wizvera}else{window.wizvera=e}}e.kryptos=e.kryptos||{};initModule(e.kryptos);return e}var wizvera=addWizvera()})();(function(){function e(e){window.delfino=window.delfino||{};var t=window.delfino;t.conf=t.conf||{};t.conf.handler=t.conf.handler||function(e){var t={};t.version=DC_version.WinIE;t.port=16107;t.ajaxto=7e3;t.cbName="delfino_handler_callback";t.reqUrl="https://127.0.0.1:"+t.port;t.protocol="wizvera-delfino-pc";t.protocol_x64="wizvera-delfino-x64";t.iframe_prefix="delfino_handler_iframe_";t.form_prefix="delfino_handler_form_";t.retryLimit=1;t.supportSync=true;t.blankPage="";if(DC_platformInfo.Windows){if(!DC_browserInfo.MSIE)t.version=DC_version.WinMoz;if(DC_browserInfo.MSIE){t.ajaxto=1e4;t.supportSync=false;if(DC_browserInfo.version>=11&&!DC_browserInfo.ETC)t.supportSync=true;if(DC_browserInfo.version<=6)t.blankPage=DelfinoConfig.handlerBlankUrl}}else if(DC_platformInfo.Mac){t.version=DC_version.Mac}else if(DC_platformInfo.Linux){t.version=DC_version.Linux}return t}(jQuery);t.cmd=function(e){var r={};function i(r){var i=this;i.time=(new Date).getTime();i.form=e('<form accept-charset="UTF-8" action="'+r+'" target="delfino_iframe'+i.time+'" method="post" style="display:none;" id="delfino_form'+i.time+'"></form>');i.addParam=function(t,r){e('<input type="hidden"/>').attr("name",t).attr("value",r).appendTo(i.form)};i.send=function(){var r=e('<iframe src="'+t.conf.handler.blankPage+'"  style="width:1px;height:1px;display:hidden" data-time="'+i.time+'" id="delfino_iframe'+i.time+'" name="delfino_iframe'+i.time+'"></iframe>');e("body").append(r);e("body").append(i.form);i.form.get(0).submit();r.load(function(){try{e("#delfino_form"+e(this).data("time")).remove()}catch(t){var r=e("#delfino_form"+e(this).data("time"));if(r.length>0){document.body.removeChild(r[0])}}try{e(this).remove()}catch(t){var r=e(this);if(r.length>0){document.body.removeChild(r[0])}}})}}function n(e){var r=t.conf.handler;var n=new i(r.reqUrl);n.addParam("data",JSON.stringify(e.data));n.send()}function a(t,r,i,n,a,o){try{return e.ajax({userctx:t,url:r,data:i,retryLimit:n,retryCount:0,timeout:a,dataType:"jsonp",jsonpCallback:o,success:function(e){if(this.userctx.success!=undefined){this.userctx.success(e,this.userctx)}},error:function(t,r,i){if(r=="timeout"){if(this.userctx.timeout!=undefined){this.userctx.timeout(this.userctx);return}this.retryCount++;if(this.retryCount<=this.retryLimit){e.ajax(this);return}}if(this.userctx.error!=undefined){this.userctx.error(t,this.userctx)}return}})}catch(s){}}function o(t,r,i,n,a,o){var s={};try{e.ajax({userctx:t,url:r,data:i,timeout:a,dataType:"json",type:"POST",async:false,crossDomain:true,success:function(e){if(this.userctx.success!=undefined){this.userctx.success(e,this.userctx)}s=e},error:function(e,t,r){if(this.userctx.error!=undefined){this.userctx.error(e,this.userctx)}s=undefined}})}catch(f){alert("delfino_handler.js: callAjax Error: "+f);DC_enableBrowser();s=undefined}return s}function s(e){var r=e.data;if(typeof r=="object")r=JSON.stringify(r);var i=t.conf.handler;var n=e.ajaxto||i.ajaxto;var s=e.retryLimit||i.retryLimit;var f=i.reqUrl;if(e.reqUrl!=undefined)f=f+e.reqUrl;else f=f+"/";var u=i.cbName+parseInt(Math.random()*999999%999999);if(e.sync!=undefined&&e.sync==true){return o(e,f,{data:r},s,n,u)}return a(e,f,{data:r},s,n,u)}r.invoke=function(e){if(e.sync!=undefined&&e.sync==true)return s(e);var t=JSON.stringify(e.data);if(t.length>1024){return n(e)}else{return s(e)}};return r}(jQuery);t.handler=t.handler||function(e){var r={};r._cb={};var i=parseInt(Math.random()*999999%999999).toString();e.support.cors=true;function n(r,n,o){o=o||{};var s=false;var f=false;if(t.conf.handler.supportSync==true){var u=["setProperty","setPropertyJson","setConfig","setConfigJson","getConfig","getProperty","isAlive","getVersion"];if(e.inArray(r,u)>=0)o.sync=true}var l=["sign","requestCertificate","requestCertificate2","updateCertificate","updateCertificate2","generatePKCS7SignedData"];if(e.inArray(r,l)>=0)s=true;if(r=="getResult")f=true;if(s==true)n=t.handler.secure.enc(n);var n={cmd:r,sid:i,encryptedData:s,requireEncrypt:f,data:n};o.data=n;return a(o.data.cmd,o)}r.getSid=function(){return i};r.setSid=function(e){i=e};r.secureInit=function(e,t){t.ajaxto=1e4;var r=n("init",e,t);r.reqUrl="/sc";return r};r.multiCmd=function(e,t){return n("multiCmd",e,t)};r.setConfig=function(e,t){return n("setConfig",e,t)};r.setConfigJson=function(e,t){t.sync=true;return n("setConfigJson",e,t)};r.getProperty=function(e,t){return n("getProperty",{key:e},t)};r.setProperty=function(e,t,r){return n("setProperty",{key:e,value:t},r)};r.setPropertyJson=function(e,t){return n("setPropertyJson",e,t)};r.resetCertificate=function(e,t){return n("resetCertificate",e,t)};r.requestCertificate=function(e,t){return n("requestCertificate",e,t)};r.requestCertificate2=function(e,t){return n("requestCertificate2",e,t)};r.updateCertificate=function(e,t){return n("updateCertificate",e,t)};r.updateCertificate2=function(e,t){return n("updateCertificate2",e,t)};r.clearResult=function(e,t){return n("clearResult",e,t)};r.getResult=function(e,t){t=t||{ajaxto:60*1e3};return n("getResult",e,t)};r.sign=function(e,t){return n("sign",e,t)};r.manageCertificate=function(e,t){return n("manageCertificate",e,t)};r.getVersion=function(e){return n("getVersion",{},e)};r.isAlive=function(e){return n("isAlive",{},e)};r.setLang=function(e,t,r){return n("setLang",{lang:e,rs:t},r)};r.generatePKCS7SignedData=function(e,t,r,i,a){return n("generatePKCS7SignedData",{data:e,alg:t,succss:r,error:i},a)};r.invoke=function(e){return t.cmd.invoke(e)};r.on=function(e,t,r){r=r||{};r.success=t;this._cb[e]=r;return this};function a(i,n){var a=r._cb[i];if(undefined==a){a={};a.success=function(e){};a.error=function(e){};a.timeout=function(e){}}a.onsuccess=function(e){this.success=e;return this};a.onerror=function(e){this.error=e;return this};a.ontimeout=function(e){this.timeout=e;return this};a.invoke=function(){return t.handler.invoke(this)};n=e.extend({},a,n);return n}r.execResult=function(e){for(var t in e){t=e[t];var r=t.func;var i=t.args;var n=window[r];try{if(typeof n=="function"){n.apply(null,i)}}catch(a){}}};return r}(jQuery);t.handler.secure=t.handler.secure||function(e){var r={mac:"",nonce:""};var n={};var a=undefined;n.setData=function(e,t){r.mac=e;r.nonce=t};function o(e){if(e.error==undefined){return true}else{alert("[handler-secure] "+e.error.message);return false}return false}n.init=function(e){var r=e;if(a==null)a=i.sch.create();var n=a.init();if(o(n)!=true){this._initctx.error();return}else{(function(e,r){t.handler.setSid(e.data.sid);t.handler.secureInit(e.data,{initCtx:r}).onsuccess(function(e,i){t.handler.secure.setData(e.data.mac,e.data.nonce);r.success()}).onerror(function(e){alert("[handler-client] 보안채널 초기화 실패");this._initctx.error()}).invoke()})(n,r)}};n.enc=function(e){var i="";var n=a.encrypt(t.handler.getSid(),r,JSON.stringify(e));if(o(n)==false){return}i=n.data.data;i=i.replace(/^\s*/,"").replace(/\s*$/,"");return i};n.dec=function(e){var r="";var i=a.decrypt(t.handler.getSid(),e);if(o(i)==false)return false;r=i.data.data;r=r.replace(/^\s*/,"").replace(/\s*$/,"");return r};return n}(jQuery);t.handler.state=t.handler.state||function(e){var t={};t.data={};function r(){for(var e in t.data){var r=t.data[e];if(r==true){DC_disableBrowser(e);return}}DC_enableBrowser()}t.setState=function(e,t){this.data[e]=t;r()};t.clear=function(){t.data={};DC_enableBrowser()};return t}(jQuery);t.handler.helper=t.handler.helper||function(e){var r={};r.isInstall=function(e){e=e||{};e.error=e.error||function(){};e.success=e.success||function(){};t.handler.isAlive({}).onsuccess(function(){(function(e){t.handler.getVersion({}).onsuccess(function(r,i){var n=r.data;n=n.replace(/[.,]/gi,"");var a=t.conf.handler.version;a=a.replace(/[.,]/gi,"");if(n<a){e.error({objver:n,confver:a})}else{e.success(r.data)}}).invoke()})(e)}).onerror(function(){if(e.error){var r=t.conf.handler.version;r=r.replace(/[.,]/gi,"");e.error({objver:"",confver:r})}}).ontimeout(function(){if(e.error){var r=t.conf.handler.version;r=r.replace(/[.,]/gi,"");e.error({objver:"",confver:r})}}).invoke()};return r}(jQuery);function r(e){}}var t="gen-delfino_handler";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){(function(e){"use strict";var t={iframe:undefined,iframeDiv:undefined,done:undefined,inited:false,config:undefined,markerDiv:undefined,embedIframe:undefined,init:function(){var t=this.inited;if(t)return;if(e["addEventListener"]){e["addEventListener"]("message",this.handleMessage,false)}else{e["attachEvent"]("onmessage",this.handleMessage)}t=true},loadIframe:function(e){var t,i;if(r){var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t=document.createElement("div");t.className="scroll-wrapper";t.style.webkitOverflowScrolling="touch";t.style.overflow="auto";t.style.position="fixed";t.style.width="100%";t.height=n+"px";t.style.top="0px";t.style.left="-"+window.innerWidth+"px";t.style.zIndex=100010;i=document.createElement("iframe");i.src=e;i.frameBorder=0;i.style.width="100%";i.style.height=n+"px";t.appendChild(i);document.body.appendChild(t)}else{i=document.createElement("iframe");i.src=e;i.allowtransparency=true;i.style.position="fixed";i.style.zIndex=100010;i.style.top="0px";i.style.left="-"+window.innerWidth+"px";i.style.width="100%";i.style.height="100%";document.body.appendChild(i)}this.iframeDiv=t||i;this.iframe=i},showIframe:function(){this.iframeDiv.style.left="0px"},unloadIframe:function(){if(this.iframeDiv){document.body.removeChild(this.iframeDiv)}DC_enableBrowser()},handleMessage:function(e){var r=t;var i=n();if(e.origin!==i){var a=console;a.log("Ignore message : expected ["+i+"] and value ["+e.origin+"]");return}var o=JSON.parse(e.data);if(o.command){r.keyboardShow(o.show);return}r.unloadIframe();r.inProgress=false;if(r.done){r.done(o)}},postMessage:function(e,t){var r=n();e.contentWindow.postMessage(t,r)},keyboardShow:function(e){if(e){this.embedIframe.style.height=this.markerDivHeight+200+"px"}else{this.embedIframe.style.height=this.markerDivHeight+"px"}},loadEmbedIframe:function(e){var t;t=document.createElement("iframe");t.src=e;t.allowtransparency=true;t.style.position="relative";t.style.zIndex=1;t.style.top="0px";t.style.left="0px";t.frameBorder=0;t.style.overflow="hidden";t.style.width="100%";t.style.height=this.markerDivHeight+"px";this.markerDiv.appendChild(t);this.embedIframe=t},service:function(e,r,n){var a=e==="embedShow"||r.options&&r.options.embedSign;this.init();this.done=n;r=r||{};r.config=t.config;for(var o in DelfinoConfig.g4){r.config[o]=DelfinoConfig.g4[o]}var s=JSON.stringify({service:e,param:r});if(a){if(e==="embedShow"){this.markerDiv=window.document.getElementById(r.options.markerDivId);if(!this.markerDiv){alert("["+this.markerDivId+"] is not exists");return}if(this.embedIframe){alert(this.markerDivId+" is already shown.");return}this.markerDivHeight=parseInt(this.markerDiv.style.height);this.loadEmbedIframe(i());this.embedIframe.onload=function(e){this.postMessage(this.embedIframe,s)}.bind(this)}else{this.postMessage(this.embedIframe,s)}}else{if(this.inProgress)return;DC_disableBrowser();this.inProgress=true;this.loadIframe(i());this.iframe.onload=function(i){var n=t;n.showIframe();var a=JSON.stringify({service:e,param:r});n.postMessage(n.iframe,a)}}},setConfig:function(e,t){this.config={};var r=e.split("&");for(var i=0;i<r.length;i++){var n=r[i].split("=");if(n.length==2){if(n[0]=="IssuerCertFilter")this.config["issuerCertFilter"]=decodeURIComponent(n[1]);else if(n[0]=="PolicyOidCertFilter")this.config["policyOidCertFilter"]=decodeURIComponent(n[1]);else this.config[n[0]]=decodeURIComponent(n[1])}}this.config.g3={};this.config.g3.installPage=DelfinoConfig.installPage_g3;this.config.g3.version=delfino.conf.handler.version;this.config.g4={};if(DC_platformInfo.Windows){this.config.g4.certConverter=DelfinoConfig.g4.certConverter.Win}else if(DC_platformInfo.Mac){this.config.g4.certConverter=DelfinoConfig.g4.certConverter.Mac}else if(DC_platformInfo.Linux){if(DC_platformInfo.x64){this.config.g4.certConverter=DelfinoConfig.g4.certConverter.Linux64}else{this.config.g4.certConverter=DelfinoConfig.g4.certConverter.Linux32}}},setProperty:function(e,t,r){if(e=="logoImage")return;if(e=="delfino.logoimage")return;this.config[e]=t},sign:function(e,t,r){this.service("sign",{data:e,options:t},r)},manageCertificate:function(e){this.service("manageCertificate",{},e)},requestCertificate:function(e,t,r,i,n,a,o){var s={name:e,host:t,port:r};this.service("requestCertificate",{ca:s,reference:i,secret:n,options:a},o)},updateCertificate:function(e,t,r,i,n){var a={name:e,host:t,port:r};this.service("updateCertificate",{ca:a,options:i},n)},exportCertificateToDelfino4Html:function(e){this.service("exportCertificateToDelfino4Html",{},e)},importCertificateFromDelfino4Html:function(e){this.service("importCertificateFromDelfino4Html",{},e)},embedShow:function(e,t){this.service("embedShow",{options:e},t)}};var r=false;function i(){var e=DelfinoConfig.g4.signServerUrl;if(e.substring(e.length-1)!="/"){e+="/"}var t="?origin="+encodeURIComponent(window.location.toString());if(r){e+="mobile.jsp"+t}else{e+="desktop.jsp"+t}e+="?nochace="+(new Date).getTime();return e}function n(){var e=DelfinoConfig.g4.signServerUrl.indexOf("://");if(e==-1)return null;e=DelfinoConfig.g4.signServerUrl.indexOf("/",e+4);if(e==-1)return DelfinoConfig.g4.signServerUrl;return DelfinoConfig.g4.signServerUrl.substring(0,e)}e["Delfino4Html"]=t})(window)}var t="gen-delfino_html5";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){(function(){if(typeof window==="object"){GLOBAL=window}else{GLOBAL=global}var e=GLOBAL.wizvera||{};GLOBAL.wizvera=e;e.version="4.0.0.9";e.buildDate="2015-08-26 20:20:23";if(GLOBAL.kryptos){e.kryptos=GLOBAL.kryptos}if(typeof module==="object"&&module.exports){module.exports=e}})()}var t="gen-wizvera";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){Array.prototype.indexOf=Array.prototype.indexOf||function(e,t){for(var r=t||0,i=this.length;r<i;r++){if(this[r]===e){return r}}return-1};window.console=window.console||new Object;window.console.log=window.console.log||function(e){}}var t="gen-shim";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.util=e.util||{};if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){t.setImmediate=setImmediate;t.nextTick=function(e){return setImmediate(e)}}else{t.setImmediate=function(e){setTimeout(e,0)};t.nextTick=t.setImmediate}}else{t.nextTick=process.nextTick;if(typeof setImmediate==="function"){t.setImmediate=setImmediate}else{t.setImmediate=t.nextTick}}t.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};t.isArrayBuffer=function(e){return typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer};var r=[];if(typeof DataView!=="undefined"){r.push(DataView)}if(typeof Int8Array!=="undefined"){r.push(Int8Array)}if(typeof Uint8Array!=="undefined"){r.push(Uint8Array)}if(typeof Uint8ClampedArray!=="undefined"){r.push(Uint8ClampedArray)}if(typeof Int16Array!=="undefined"){r.push(Int16Array)}if(typeof Uint16Array!=="undefined"){r.push(Uint16Array)}if(typeof Int32Array!=="undefined"){r.push(Int32Array)}if(typeof Uint32Array!=="undefined"){r.push(Uint32Array)}if(typeof Float32Array!=="undefined"){r.push(Float32Array)}if(typeof Float64Array!=="undefined"){r.push(Float64Array)}t.isArrayBufferView=function(e){for(var t=0;t<r.length;++t){if(e instanceof r[t]){return true}}return false};t.ByteBuffer=i;function i(e){this.data="";this.read=0;if(typeof e==="string"){this.data=e}else if(t.isArrayBuffer(e)||t.isArrayBufferView(e)){var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch(n){for(var a=0;a<r.length;++a){this.putByte(r[a])}}}else if(e instanceof i||typeof e==="object"&&typeof e.data==="string"&&typeof e.read==="number"){this.data=e.data;this.read=e.read}this._constructedStringLength=0}t.ByteStringBuffer=i;var n=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e;if(this._constructedStringLength>n){this.data.substr(0,1);this._constructedStringLength=0}};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};t.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);var r=this.data;while(t>0){if(t&1){r+=e}t>>>=1;if(t>0){e+=e}}this.data=r;this._optimizeConstructedString(t);return this};t.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};t.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(t.encodeUtf8(e))};t.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};t.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};t.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};t.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};t.ByteStringBuffer.prototype.putInt=function(e,t){var r="";do{t-=8;r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)};t.ByteStringBuffer.prototype.putSignedInt=function(e,t){if(e<0){e+=2<<t-1}return this.putInt(e,t)};t.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};t.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};t.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};t.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};t.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};t.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};t.ByteStringBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++);e-=8}while(e>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);var r=2<<e-2;if(t>=r){t-=r<<1}return t};t.ByteStringBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(e===0){t=""}else{t=this.read===0?this.data:this.data.slice(this.read);this.clear()}return t};t.ByteStringBuffer.prototype.bytes=function(e){return typeof e==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};t.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};t.ByteStringBuffer.prototype.setAt=function(e,t){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1);return this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var e=t.createBuffer(this.data);e.read=this.read;return e};t.ByteStringBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}return this};t.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};t.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,t);this.read=0;return this};t.ByteStringBuffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);if(r<16){e+="0"}e+=r.toString(16)}return e};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};function a(e,r){r=r||{};this.read=r.readOffset||0;this.growSize=r.growSize||1024;var i=t.isArrayBuffer(e);var n=t.isArrayBufferView(e);if(i||n){if(i){this.data=new DataView(e)}else{this.data=new DataView(e.buffer,e.byteOffset,e.byteLength)}this.write="writeOffset"in r?r.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0));this.write=0;if(e!==null&&e!==undefined){this.putBytes(e)}if("writeOffset"in r){this.write=r.writeOffset}}t.DataBuffer=a;t.DataBuffer.prototype.length=function(){return this.write-this.read};t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};t.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e){return this}t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);var i=new Uint8Array(this.length()+t);i.set(r);this.data=new DataView(i.buffer);return this};t.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};t.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r){this.data.setUint8(e)}return this};t.DataBuffer.prototype.putBytes=function(e,r){if(t.isArrayBufferView(e)){var i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var n=i.byteLength-i.byteOffset;this.accommodate(n);var a=new Uint8Array(this.data.buffer,this.write);a.set(i);this.write+=n;return this}if(t.isArrayBuffer(e)){var i=new Uint8Array(e);this.accommodate(i.byteLength);var a=new Uint8Array(this.data.buffer);a.set(i,this.write);this.write+=i.byteLength;return this}if(e instanceof t.DataBuffer||typeof e==="object"&&typeof e.read==="number"&&typeof e.write==="number"&&t.isArrayBufferView(e.data)){var i=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(i.byteLength);var a=new Uint8Array(e.data.byteLength,this.write);a.set(i);this.write+=i.byteLength;return this}if(e instanceof t.ByteStringBuffer){e=e.data;r="binary"}r=r||"binary";if(typeof e==="string"){var o;if(r==="hex"){this.accommodate(Math.ceil(e.length/2));o=new Uint8Array(this.data.buffer,this.write);this.write+=t.binary.hex.decode(e,o,this.write);return this}if(r==="base64"){this.accommodate(Math.ceil(e.length/4)*3);o=new Uint8Array(this.data.buffer,this.write);this.write+=t.binary.base64.decode(e,o,this.write);return this}if(r==="utf8"){e=t.encodeUtf8(e);r="binary"}if(r==="binary"||r==="raw"){this.accommodate(e.length);o=new Uint8Array(this.data.buffer,this.write);this.write+=t.binary.raw.decode(o);return this}if(r==="utf16"){this.accommodate(e.length*2);o=new Uint16Array(this.data.buffer,this.write);this.write+=t.text.utf16.encode(o);return this}throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+e)};t.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};t.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};t.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};t.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};t.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};t.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,e,true);this.write+=2;return this};t.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,true);this.write+=3;return this};t.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,true);this.write+=4;return this};t.DataBuffer.prototype.putInt=function(e,t){this.accommodate(t/8);do{t-=8;this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this};t.DataBuffer.prototype.putSignedInt=function(e,t){this.accommodate(t/8);if(e<0){e+=2<<t-1}return this.putInt(e,t)};t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};t.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};t.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};t.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};t.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,true);this.read+=2;return e};t.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,true)<<8;this.read+=3;return e};t.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,true);this.read+=4;return e};t.DataBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.getInt8(this.read++);e-=8}while(e>0);return t};t.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);var r=2<<e-2;if(t>=r){t-=r<<1}return t};t.DataBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(e===0){t=""}else{t=this.read===0?this.data:this.data.slice(this.read);this.clear()}return t};t.DataBuffer.prototype.bytes=function(e){return typeof e==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};t.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};t.DataBuffer.prototype.setAt=function(e,t){this.data.setUint8(e,t);return this};t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)};t.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read);var t=new Uint8Array(e.byteLength);t.set(e);this.data=new DataView(t);this.write-=this.read;this.read=0}return this};t.DataBuffer.prototype.clear=function(){this.data=new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};t.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};t.DataBuffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);if(r<16){e+="0"}e+=r.toString(16)}return e};t.DataBuffer.prototype.toString=function(e){var r=new Uint8Array(this.data,this.read,this.length());e=e||"utf8";if(e==="binary"||e==="raw"){return t.binary.raw.encode(r)}if(e==="hex"){return t.binary.hex.encode(r)}if(e==="base64"){return t.binary.base64.encode(r)}if(e==="utf8"){return t.text.utf8.decode(r)}if(e==="utf16"){return t.text.utf16.decode(r)}throw new Error("Invalid encoding: "+e)};t.createBuffer=function(e,r){r=r||"raw";if(e!==undefined&&r==="utf8"){e=t.encodeUtf8(e)}return new t.ByteBuffer(e)};t.fillString=function(e,t){var r="";while(t>0){if(t&1){r+=e}t>>>=1;if(t>0){e+=e}}return r};t.xorBytes=function(e,t,r){var i="";var n="";var a="";var o=0;var s=0;for(;r>0;--r,++o){n=e.charCodeAt(o)^t.charCodeAt(o);if(s>=10){i+=a;a="";s=0}a+=String.fromCharCode(n);++s}i+=a;return i};t.hexToBytes=function(e){var t="";var r=0;if(e.length&1==1){r=1;t+=String.fromCharCode(parseInt(e.substr(0,1),16))}for(;r<e.length;r+=2){t+=String.fromCharCode(parseInt(e.substr(r,2),16))}return t};t.bytesToHex=function(e){return t.createBuffer(e).toHex()};t.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var s=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];t.encode64=function(e,t){var r="";var i="";var n,a,s;var f=0;while(f<e.length){n=e.charCodeAt(f++);a=e.charCodeAt(f++);s=e.charCodeAt(f++);r+=o.charAt(n>>2);r+=o.charAt((n&3)<<4|a>>4);if(isNaN(a)){r+="=="}else{r+=o.charAt((a&15)<<2|s>>6);r+=isNaN(s)?"=":o.charAt(s&63)}if(t&&r.length>t){i+=r.substr(0,t)+"\r\n";r=r.substr(t)}}i+=r;return i};t.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t="";var r,i,n,a;var o=0;while(o<e.length){r=s[e.charCodeAt(o++)-43];i=s[e.charCodeAt(o++)-43];n=s[e.charCodeAt(o++)-43];a=s[e.charCodeAt(o++)-43];t+=String.fromCharCode(r<<2|i>>4);if(n!==64){t+=String.fromCharCode((i&15)<<4|n>>2);if(a!==64){t+=String.fromCharCode((n&3)<<6|a)}}}return t};t.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};t.decodeUtf8=function(e){return decodeURIComponent(escape(e))};t.binary={raw:{},hex:{},base64:{}};t.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};t.binary.raw.decode=function(e,t,r){var i=t;if(!i){i=new Uint8Array(e.length)}r=r||0;var n=r;for(var a=0;a<e.length;++a){i[n++]=e.charCodeAt(a)}return t?n-r:i};t.binary.hex.encode=t.bytesToHex;t.binary.hex.decode=function(e,t,r){var i=t;if(!i){i=new Uint8Array(Math.ceil(e.length/2))}r=r||0;var n=0,a=r;if(e.length&1){n=1;i[a++]=parseInt(e.substr(0,1),16)}for(;n<e.length;n+=2){i[a++]=parseInt(e.substr(n,2),16)}return t?a-r:i};t.binary.base64.encode=function(e,t){var r="";var i="";var n,a,s;var f=0;while(f<e.byteLength){n=e[f++];a=e[f++];s=e[f++];r+=o.charAt(n>>2);r+=o.charAt((n&3)<<4|a>>4);if(isNaN(a)){r+="=="}else{r+=o.charAt((a&15)<<2|s>>6);r+=isNaN(s)?"=":o.charAt(s&63)}if(t&&r.length>t){i+=r.substr(0,t)+"\r\n";r=r.substr(t)}}i+=r;return i};t.binary.base64.decode=function(e,t,r){var i=t;if(!i){i=new Uint8Array(Math.ceil(e.length/4)*3)}e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r=r||0;var n,a,o,f;var u=0,l=r;while(u<e.length){n=s[e.charCodeAt(u++)-43];a=s[e.charCodeAt(u++)-43];o=s[e.charCodeAt(u++)-43];f=s[e.charCodeAt(u++)-43];i[l++]=n<<2|a>>4;if(o!==64){i[l++]=(a&15)<<4|o>>2;if(f!==64){i[l++]=(o&3)<<6|f}}}return t?l-r:i};t.text={utf8:{},utf16:{}};t.text.utf8.encode=function(e,r,i){e=t.encodeUtf8(e);var n=r;if(!n){n=new Uint8Array(e.length)}i=i||0;var a=i;for(var o=0;o<e.length;++o){n[a++]=e.charCodeAt(o)}return r?a-i:n};t.text.utf8.decode=function(e){return t.decodeUtf8(String.fromCharCode.apply(null,e))};t.text.utf16.encode=function(e,t,r){var i=t;if(!i){i=new Uint8Array(e.length)}var n=new Uint16Array(i);r=r||0;var a=r;var o=r;for(var s=0;s<e.length;++s){n[o++]=e.charCodeAt(s);a+=2}return t?a-r:i};t.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e))};t.deflate=function(e,r,i){r=t.decode64(e.deflate(t.encode64(r)).rval);if(i){var n=2;var a=r.charCodeAt(1);if(a&32){n=6}r=r.substring(n,r.length-4)}return r};t.inflate=function(e,r,i){var n=e.inflate(t.encode64(r)).rval;return n===null?null:t.decode64(n)};var f=function(e,r,i){if(!e){throw new Error("WebStorage not available.")}var n;if(i===null){n=e.removeItem(r)}else{i=t.encode64(JSON.stringify(i));n=e.setItem(r,i)}if(typeof n!=="undefined"&&n.rval!==true){var a=new Error(n.error.message);a.id=n.error.id;a.name=n.error.name;throw a}};var u=function(e,r){if(!e){throw new Error("WebStorage not available.")}var i=e.getItem(r);if(e.init){if(i.rval===null){if(i.error){var n=new Error(i.error.message);n.id=i.error.id;n.name=i.error.name;throw n}i=null}else{i=i.rval}}if(i!==null){i=JSON.parse(t.decode64(i))}return i};var l=function(e,t,r,i){var n=u(e,t);if(n===null){n={}}n[r]=i;f(e,t,n)};var c=function(e,t,r){var i=u(e,t);if(i!==null){i=r in i?i[r]:null}return i};var h=function(e,t,r){var i=u(e,t);if(i!==null&&r in i){delete i[r];var n=true;for(var a in i){n=false;break}if(n){i=null}f(e,t,i)}};var d=function(e,t){f(e,t,null)};var p=function(e,t,r){var i=null;if(typeof r==="undefined"){r=["web","flash"]}var n;var a=false;var o=null;for(var s in r){n=r[s];try{if(n==="flash"||n==="both"){if(t[0]===null){throw new Error("Flash local storage not available.")}i=e.apply(this,t);a=n==="flash"}if(n==="web"||n==="both"){t[0]=localStorage;i=e.apply(this,t);a=true}}catch(f){o=f}if(a){break}}if(!a){throw o}return i};t.setItem=function(e,t,r,i,n){p(l,arguments,n)};t.getItem=function(e,t,r,i){return p(c,arguments,i)};t.removeItem=function(e,t,r,i){p(h,arguments,i)};t.clearItems=function(e,t,r){p(d,arguments,r)};t.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e);var i=r===null?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};if(i){i.fullHost=i.host;if(i.port){if(i.port!==80&&i.scheme==="http"){i.fullHost+=":"+i.port}else if(i.port!==443&&i.scheme==="https"){i.fullHost+=":"+i.port}}else if(i.scheme==="http"){i.port=80}else if(i.scheme==="https"){i.port=443}i.full=i.scheme+"://"+i.fullHost}return i};var g=null;t.getQueryVariables=function(e){var t=function(e){var t={};var r=e.split("&");for(var i=0;i<r.length;i++){var n=r[i].indexOf("=");var a;var o;if(n>0){a=r[i].substring(0,n);o=r[i].substring(n+1)}else{a=r[i];o=null}if(!(a in t)){t[a]=[]}if(!(a in Object.prototype)&&o!==null){t[a].push(unescape(o))}}return t};var r;if(typeof e==="undefined"){if(g===null){if(typeof window==="undefined"){g={}}else{g=t(window.location.search.substring(1))}}r=g}else{r=t(e)}return r};t.parseFragment=function(e){var r=e;var i="";var n=e.indexOf("?");if(n>0){r=e.substring(0,n);i=e.substring(n+1)}var a=r.split("/");if(a.length>0&&a[0]===""){a.shift()}var o=i===""?{}:t.getQueryVariables(i);return{pathString:r,queryString:i,path:a,query:o}};t.makeRequest=function(e){var r=t.parseFragment(e);var i={path:r.pathString,query:r.queryString,getPath:function(e){return typeof e==="undefined"?r.path:r.path[e]},getQuery:function(e,t){var i;if(typeof e==="undefined"){i=r.query}else{i=r.query[e];if(i&&typeof t!=="undefined"){i=i[t]}}return i},getQueryLast:function(e,t){var r;var n=i.getQuery(e);if(n){r=n[n.length-1]}else{r=t}return r}};return i};t.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var i=jQuery.param(t||{});r=r||"";return e+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};t.setPath=function(e,t,r){if(typeof e==="object"&&e!==null){var i=0;var n=t.length;while(i<n){var a=t[i++];if(i==n){e[a]=r}else{var o=a in e;if(!o||o&&typeof e[a]!=="object"||o&&e[a]===null){e[a]={}}e=e[a]}}}};t.getPath=function(e,t,r){var i=0;var n=t.length;var a=true;while(a&&i<n&&typeof e==="object"&&e!==null){var o=t[i++];a=o in e;if(a){e=e[o]}}return a?e:r};t.deletePath=function(e,t){if(typeof e==="object"&&e!==null){var r=0;var i=t.length;while(r<i){var n=t[r++];if(r==i){delete e[n]}else{if(!(n in e)||typeof e[n]!=="object"||e[n]===null){break}e=e[n]}}}};t.isEmpty=function(e){for(var t in e){if(e.hasOwnProperty(t)){return false}}return true};t.format=function(e){var t=/%./g;var r;var i;var n=0;var a=[];var o=0;while(r=t.exec(e)){i=e.substring(o,t.lastIndex-2);if(i.length>0){a.push(i)}o=t.lastIndex;var s=r[0][1];switch(s){case"s":case"o":if(n<arguments.length){a.push(arguments[n++ +1])}else{a.push("<?>")}break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}a.push(e.substring(o));return a.join("")};t.formatNumber=function(e,t,r,i){var n=e,a=isNaN(t=Math.abs(t))?2:t;var o=r===undefined?",":r;var s=i===undefined?".":i,f=n<0?"-":"";var u=parseInt(n=Math.abs(+n||0).toFixed(a),10)+"";var l=u.length>3?u.length%3:0;return f+(l?u.substr(0,l)+s:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(n-u).toFixed(a).slice(2):"")};t.formatSize=function(e){if(e>=1073741824){e=t.formatNumber(e/1073741824,2,".","")+" GiB"}else if(e>=1048576){e=t.formatNumber(e/1048576,2,".","")+" MiB"}else if(e>=1024){e=t.formatNumber(e/1024,0)+" KiB"}else{e=t.formatNumber(e,0)+" bytes"}return e};t.bytesFromIP=function(e){if(e.indexOf(".")!==-1){return t.bytesFromIPv4(e)}if(e.indexOf(":")!==-1){return t.bytesFromIPv6(e)}return null};t.bytesFromIPv4=function(e){e=e.split(".");if(e.length!==4){return null}var r=t.createBuffer();for(var i=0;i<e.length;++i){var n=parseInt(e[i],10);if(isNaN(n)){return null}r.putByte(n)}return r.getBytes()};t.bytesFromIPv6=function(e){var r=0;e=e.split(":").filter(function(e){if(e.length===0)++r;return true});var i=(8-e.length+r)*2;var n=t.createBuffer();for(var a=0;a<8;++a){if(!e[a]||e[a].length===0){n.fillWithByte(0,i);i=0;continue}var o=t.hexToBytes(e[a]);if(o.length<2){n.putByte(0)}n.putBytes(o)}return n.getBytes()};t.bytesToIP=function(e){if(e.length===4){return t.bytesToIPv4(e)}if(e.length===16){return t.bytesToIPv6(e)}return null};t.bytesToIPv4=function(e){if(e.length!==4){return null}var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t.join(".")};t.bytesToIPv6=function(e){if(e.length!==16){return null}var r=[];var i=[];var n=0;for(var a=0;a<e.length;a+=2){var o=t.bytesToHex(e[a]+e[a+1]);while(o[0]==="0"&&o!=="0"){o=o.substr(1)}if(o==="0"){var s=i[i.length-1];var f=r.length;if(!s||f!==s.end+1){i.push({start:f,end:f})}else{s.end=f;if(s.end-s.start>i[n].end-i[n].start){n=i.length-1}}}r.push(o)}if(i.length>0){var u=i[n];if(u.end-u.start>0){r.splice(u.start,u.end-u.start+1,"");if(u.start===0){r.unshift("")}if(u.end===7){r.push("")}}}return r.join(":")};t.estimateCores=function(e,r){if(typeof e==="function"){r=e;e={}}e=e||{};if("cores"in t&&!e.update){return r(null,t.cores)}if(typeof navigator!=="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0){t.cores=navigator.hardwareConcurrency;return r(null,t.cores)}if(typeof Worker==="undefined"){t.cores=1;return r(null,t.cores)}if(typeof Blob==="undefined"){t.cores=2;return r(null,t.cores)}var i=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){var t=Date.now();var r=t+4;while(Date.now()<r);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(e,s,f){if(s===0){var u=Math.floor(e.reduce(function(e,t){return e+t},0)/e.length);t.cores=Math.max(1,u);URL.revokeObjectURL(i);return r(null,t.cores)}a(f,function(t,r){e.push(o(f,r));n(e,s-1,f)})}function a(e,t){var r=[];var n=[];for(var a=0;a<e;++a){var o=new Worker(i);o.addEventListener("message",function(i){n.push(i.data);if(n.length===e){for(var a=0;a<e;++a){r[a].terminate()}t(null,n)}});r.push(o)}for(var a=0;a<e;++a){r[a].postMessage(a)}}function o(e,t){var r=[];for(var i=0;i<e;++i){var n=t[i];var a=r[i]=[];for(var o=0;o<e;++o){if(i===o){continue}var s=t[o];if(n.st>s.st&&n.st<s.et||s.st>n.st&&s.st<n.et){a.push(o)}}}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}}}var t="util";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){e.pki=e.pki||{};var t=e.pki.oids=e.oids=e.oids||{};t["1.2.840.113549.1.1.1"]="rsaEncryption";t["rsaEncryption"]="1.2.840.113549.1.1.1";t["1.2.840.113549.1.1.4"]="md5WithRSAEncryption";t["md5WithRSAEncryption"]="1.2.840.113549.1.1.4";t["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption";t["sha1WithRSAEncryption"]="1.2.840.113549.1.1.5";t["1.2.840.113549.1.1.7"]="RSAES-OAEP";t["RSAES-OAEP"]="1.2.840.113549.1.1.7";t["1.2.840.113549.1.1.8"]="mgf1";t["mgf1"]="1.2.840.113549.1.1.8";t["1.2.840.113549.1.1.9"]="pSpecified";t["pSpecified"]="1.2.840.113549.1.1.9";t["1.2.840.113549.1.1.10"]="RSASSA-PSS";t["RSASSA-PSS"]="1.2.840.113549.1.1.10";t["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption";t["sha256WithRSAEncryption"]="1.2.840.113549.1.1.11";t["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption";t["sha384WithRSAEncryption"]="1.2.840.113549.1.1.12";t["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption";t["sha512WithRSAEncryption"]="1.2.840.113549.1.1.13";t["1.3.14.3.2.7"]="desCBC";t["desCBC"]="1.3.14.3.2.7";t["1.3.14.3.2.26"]="sha1";t["sha1"]="1.3.14.3.2.26";t["2.16.840.1.101.3.4.2.1"]="sha256";t["sha256"]="2.16.840.1.101.3.4.2.1";t["2.16.840.1.101.3.4.2.2"]="sha384";t["sha384"]="2.16.840.1.101.3.4.2.2";t["2.16.840.1.101.3.4.2.3"]="sha512";t["sha512"]="2.16.840.1.101.3.4.2.3";t["1.2.840.113549.2.5"]="md5";t["md5"]="1.2.840.113549.2.5";t["1.2.840.113549.1.7.1"]="data";t["data"]="1.2.840.113549.1.7.1";t["1.2.840.113549.1.7.2"]="signedData";t["signedData"]="1.2.840.113549.1.7.2";t["1.2.840.113549.1.7.3"]="envelopedData";t["envelopedData"]="1.2.840.113549.1.7.3";t["1.2.840.113549.1.7.4"]="signedAndEnvelopedData";t["signedAndEnvelopedData"]="1.2.840.113549.1.7.4";t["1.2.840.113549.1.7.5"]="digestedData";t["digestedData"]="1.2.840.113549.1.7.5";t["1.2.840.113549.1.7.6"]="encryptedData";t["encryptedData"]="1.2.840.113549.1.7.6";t["1.2.840.113549.1.9.1"]="emailAddress";t["emailAddress"]="1.2.840.113549.1.9.1";t["1.2.840.113549.1.9.2"]="unstructuredName";t["unstructuredName"]="1.2.840.113549.1.9.2";t["1.2.840.113549.1.9.3"]="contentType";t["contentType"]="1.2.840.113549.1.9.3";t["1.2.840.113549.1.9.4"]="messageDigest";t["messageDigest"]="1.2.840.113549.1.9.4";t["1.2.840.113549.1.9.5"]="signingTime";t["signingTime"]="1.2.840.113549.1.9.5";t["1.2.840.113549.1.9.6"]="counterSignature";t["counterSignature"]="1.2.840.113549.1.9.6";t["1.2.840.113549.1.9.7"]="challengePassword";t["challengePassword"]="1.2.840.113549.1.9.7";t["1.2.840.113549.1.9.8"]="unstructuredAddress";t["unstructuredAddress"]="1.2.840.113549.1.9.8";t["1.2.840.113549.1.9.14"]="extensionRequest";t["extensionRequest"]="1.2.840.113549.1.9.14";t["1.2.840.113549.1.9.20"]="friendlyName";t["friendlyName"]="1.2.840.113549.1.9.20";t["1.2.840.113549.1.9.21"]="localKeyId";t["localKeyId"]="1.2.840.113549.1.9.21";t["1.2.840.113549.1.9.22.1"]="x509Certificate";t["x509Certificate"]="1.2.840.113549.1.9.22.1";t["1.2.840.113549.1.12.10.1.1"]="keyBag";t["keyBag"]="1.2.840.113549.1.12.10.1.1";t["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag";t["pkcs8ShroudedKeyBag"]="1.2.840.113549.1.12.10.1.2";t["1.2.840.113549.1.12.10.1.3"]="certBag";t["certBag"]="1.2.840.113549.1.12.10.1.3";t["1.2.840.113549.1.12.10.1.4"]="crlBag";t["crlBag"]="1.2.840.113549.1.12.10.1.4";t["1.2.840.113549.1.12.10.1.5"]="secretBag";t["secretBag"]="1.2.840.113549.1.12.10.1.5";t["1.2.840.113549.1.12.10.1.6"]="safeContentsBag";t["safeContentsBag"]="1.2.840.113549.1.12.10.1.6";t["1.2.840.113549.1.5.13"]="pkcs5PBES2";t["pkcs5PBES2"]="1.2.840.113549.1.5.13";t["1.2.840.113549.1.5.12"]="pkcs5PBKDF2";t["pkcs5PBKDF2"]="1.2.840.113549.1.5.12";t["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4";t["pbeWithSHAAnd128BitRC4"]="1.2.840.113549.1.12.1.1";t["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4";t["pbeWithSHAAnd40BitRC4"]="1.2.840.113549.1.12.1.2";t["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC";t["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3";t["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC";t["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4";t["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC";t["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5";t["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC";t["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6";t["1.2.840.113549.3.7"]="des-EDE3-CBC";t["des-EDE3-CBC"]="1.2.840.113549.3.7";t["2.16.840.1.101.3.4.1.2"]="aes128-CBC";t["aes128-CBC"]="2.16.840.1.101.3.4.1.2";t["2.16.840.1.101.3.4.1.22"]="aes192-CBC";t["aes192-CBC"]="2.16.840.1.101.3.4.1.22";t["2.16.840.1.101.3.4.1.42"]="aes256-CBC";t["aes256-CBC"]="2.16.840.1.101.3.4.1.42";t["2.5.4.3"]="commonName";t["commonName"]="2.5.4.3";t["2.5.4.5"]="serialName";t["serialName"]="2.5.4.5";t["2.5.4.6"]="countryName";t["countryName"]="2.5.4.6";t["2.5.4.7"]="localityName";t["localityName"]="2.5.4.7";t["2.5.4.8"]="stateOrProvinceName";t["stateOrProvinceName"]="2.5.4.8";t["2.5.4.10"]="organizationName";t["organizationName"]="2.5.4.10";t["2.5.4.11"]="organizationalUnitName";t["organizationalUnitName"]="2.5.4.11";t["2.16.840.1.113730.1.1"]="nsCertType";t["nsCertType"]="2.16.840.1.113730.1.1";t["2.5.29.1"]="authorityKeyIdentifier";t["2.5.29.2"]="keyAttributes";t["2.5.29.3"]="certificatePolicies";t["2.5.29.4"]="keyUsageRestriction";t["2.5.29.5"]="policyMapping";t["2.5.29.6"]="subtreesConstraint";t["2.5.29.7"]="subjectAltName";t["2.5.29.8"]="issuerAltName";t["2.5.29.9"]="subjectDirectoryAttributes";t["2.5.29.10"]="basicConstraints";t["2.5.29.11"]="nameConstraints";t["2.5.29.12"]="policyConstraints";t["2.5.29.13"]="basicConstraints";t["2.5.29.14"]="subjectKeyIdentifier";t["subjectKeyIdentifier"]="2.5.29.14";t["2.5.29.15"]="keyUsage";t["keyUsage"]="2.5.29.15";t["2.5.29.16"]="privateKeyUsagePeriod";t["2.5.29.17"]="subjectAltName";t["subjectAltName"]="2.5.29.17";t["2.5.29.18"]="issuerAltName";t["issuerAltName"]="2.5.29.18";t["2.5.29.19"]="basicConstraints";t["basicConstraints"]="2.5.29.19";t["2.5.29.20"]="cRLNumber";t["2.5.29.21"]="cRLReason";t["2.5.29.22"]="expirationDate";t["2.5.29.23"]="instructionCode";t["2.5.29.24"]="invalidityDate";t["2.5.29.25"]="cRLDistributionPoints";t["2.5.29.26"]="issuingDistributionPoint";t["2.5.29.27"]="deltaCRLIndicator";t["2.5.29.28"]="issuingDistributionPoint";t["2.5.29.29"]="certificateIssuer";t["2.5.29.30"]="nameConstraints";t["2.5.29.31"]="cRLDistributionPoints";t["2.5.29.32"]="certificatePolicies";t["2.5.29.33"]="policyMappings";t["2.5.29.34"]="policyConstraints";t["2.5.29.35"]="authorityKeyIdentifier";t["2.5.29.36"]="policyConstraints";t["2.5.29.37"]="extKeyUsage";t["extKeyUsage"]="2.5.29.37";t["2.5.29.46"]="freshestCRL";t["2.5.29.54"]="inhibitAnyPolicy";t["1.3.6.1.5.5.7.3.1"]="serverAuth";t["serverAuth"]="1.3.6.1.5.5.7.3.1";t["1.3.6.1.5.5.7.3.2"]="clientAuth";t["clientAuth"]="1.3.6.1.5.5.7.3.2";t["1.3.6.1.5.5.7.3.3"]="codeSigning";t["codeSigning"]="1.3.6.1.5.5.7.3.3";t["1.3.6.1.5.5.7.3.4"]="emailProtection";t["emailProtection"]="1.3.6.1.5.5.7.3.4";t["1.3.6.1.5.5.7.3.8"]="timeStamping";t["timeStamping"]="1.3.6.1.5.5.7.3.8"}var t="oids";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.asn1=e.asn1||{};t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};t.create=function(t,r,i,n){if(e.util.isArray(n)){var a=[];for(var o=0;o<n.length;++o){if(n[o]!==undefined){a.push(n[o])}}n=a}return{tagClass:t,type:r,constructed:i,composed:i||e.util.isArray(n),value:n}};var r=function(e){var t=e.getByte();if(t===128){return undefined}var r;var i=t&128;if(!i){r=t}else{r=e.getInt((t&127)<<3)}return r};t.fromDer=function(i,n){if(n===undefined){n=true}if(typeof i==="string"){i=e.util.createBuffer(i)}if(i.length()<2){var a=new Error("Too few bytes to parse DER.");a.bytes=i.length();throw a}var o=i.getByte();var s=o&192;var f=o&31;var u=r(i);if(i.length()<u){if(n){var a=new Error("Too few bytes to read ASN.1 value.");a.detail=i.length()+" < "+u;throw a}u=i.length()}var l;var c=(o&32)===32;var h=c;if(!h&&s===t.Class.UNIVERSAL&&f===t.Type.BITSTRING&&u>1){}if(h){l=[];if(u===undefined){for(;;){if(i.bytes(2)===String.fromCharCode(0,0)){i.getBytes(2);break}l.push(t.fromDer(i,n))}}else{var d=i.length();while(u>0){l.push(t.fromDer(i,n));u-=d-i.length();d=i.length()}}}else{if(u===undefined){if(n){throw new Error("Non-constructed ASN.1 object of indefinite length.")}u=i.length()}if(f===t.Type.BMPSTRING){l="";for(var p=0;p<u;p+=2){l+=String.fromCharCode(i.getInt16())}}else{l=i.getBytes(u)}}return t.create(s,f,c,l)};t.toDer=function(r){var i=e.util.createBuffer();var n=r.tagClass|r.type;var a=e.util.createBuffer();if(r.composed){if(r.constructed){n|=32}else{a.putByte(0)}for(var o=0;o<r.value.length;++o){if(r.value[o]!==undefined){a.putBuffer(t.toDer(r.value[o]))}}}else{if(r.type===t.Type.BMPSTRING){for(var o=0;o<r.value.length;++o){a.putInt16(r.value.charCodeAt(o))}}else{a.putBytes(r.value)}}i.putByte(n);if(a.length()<=127){i.putByte(a.length()&127)}else{var s=a.length();var f="";do{f+=String.fromCharCode(s&255);s=s>>>8}while(s>0);i.putByte(f.length|128);for(var o=f.length-1;o>=0;--o){i.putByte(f.charCodeAt(o))}}i.putBuffer(a);return i};t.oidToDer=function(t){var r=t.split(".");var i=e.util.createBuffer();i.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));var n,a,o,s;for(var f=2;f<r.length;++f){n=true;a=[];o=parseInt(r[f],10);do{s=o&127;o=o>>>7;if(!n){s|=128}a.push(s);n=false}while(o>0);for(var u=a.length-1;u>=0;--u){i.putByte(a[u])}}return i};t.derToOid=function(t){var r;if(typeof t==="string"){t=e.util.createBuffer(t)}var i=t.getByte();r=Math.floor(i/40)+"."+i%40;var n=0;while(t.length()>0){i=t.getByte();n=n<<7;if(i&128){n+=i&127}else{r+="."+(n+i);n=0}}return r};t.utcTimeToDate=function(e){var t=new Date;var r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(e.substr(2,2),10)-1;var n=parseInt(e.substr(4,2),10);var a=parseInt(e.substr(6,2),10);var o=parseInt(e.substr(8,2),10);var s=0;if(e.length>11){var f=e.charAt(10);var u=10;if(f!=="+"&&f!=="-"){s=parseInt(e.substr(10,2),10);u+=2}}t.setUTCFullYear(r,i,n);t.setUTCHours(a,o,s,0);if(u){f=e.charAt(u);if(f==="+"||f==="-"){var l=parseInt(e.substr(u+1,2),10);var c=parseInt(e.substr(u+4,2),10);var h=l*60+c;h*=6e4;if(f==="+"){t.setTime(+t-h)}else{t.setTime(+t+h)}}}return t};t.generalizedTimeToDate=function(e){var t=new Date;var r=parseInt(e.substr(0,4),10);var i=parseInt(e.substr(4,2),10)-1;var n=parseInt(e.substr(6,2),10);var a=parseInt(e.substr(8,2),10);var o=parseInt(e.substr(10,2),10);var s=parseInt(e.substr(12,2),10);var f=0;var u=0;var l=false;if(e.charAt(e.length-1)==="Z"){l=true}var c=e.length-5,h=e.charAt(c);if(h==="+"||h==="-"){var d=parseInt(e.substr(c+1,2),10);var p=parseInt(e.substr(c+4,2),10);u=d*60+p;u*=6e4;if(h==="+"){u*=-1}l=true}if(e.charAt(14)==="."){f=parseFloat(e.substr(14),10)*1e3}if(l){t.setUTCFullYear(r,i,n);t.setUTCHours(a,o,s,f);t.setTime(+t+u)}else{t.setFullYear(r,i,n);t.setHours(a,o,s,f)}return t};t.dateToUtcTime=function(e){var t="";var r=[];r.push((""+e.getUTCFullYear()).substr(2));r.push(""+(e.getUTCMonth()+1));r.push(""+e.getUTCDate());r.push(""+e.getUTCHours());r.push(""+e.getUTCMinutes());r.push(""+e.getUTCSeconds());for(var i=0;i<r.length;++i){if(r[i].length<2){t+="0"}t+=r[i]}t+="Z";return t};t.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128){return r.putSignedInt(t,8)}if(t>=-32768&&t<32768){return r.putSignedInt(t,16)}if(t>=-8388608&&t<8388608){return r.putSignedInt(t,24)}if(t>=-2147483648&&t<2147483648){return r.putSignedInt(t,32)}var i=new Error("Integer too large; max is 32-bits.");i.integer=t;throw i};t.derToInteger=function(t){if(typeof t==="string"){t=e.util.createBuffer(t)}var r=t.length()*8;if(r>32){throw new Error("Integer too large; max is 32-bits.")}return t.getSignedInt(r)};t.validate=function(r,i,n,a){var o=false;if((r.tagClass===i.tagClass||typeof i.tagClass==="undefined")&&(r.type===i.type||typeof i.type==="undefined")){if(r.constructed===i.constructed||typeof i.constructed==="undefined"){o=true;if(i.value&&e.util.isArray(i.value)){var s=0;for(var f=0;o&&f<i.value.length;++f){o=i.value[f].optional||false;if(r.value[s]){o=t.validate(r.value[s],i.value[f],n,a);if(o){++s}else if(i.value[f].optional){o=true}}if(!o&&a){a.push("["+i.name+"] "+'Tag class "'+i.tagClass+'", type "'+i.type+'" expected value length "'+i.value.length+'", got "'+r.value.length+'"')}}}if(o&&n){if(i.capture){n[i.capture]=r.value}if(i.captureAsn1){n[i.captureAsn1]=r}}}else if(a){a.push("["+i.name+"] "+'Expected constructed "'+i.constructed+'", got "'+r.constructed+'"')}}else if(a){if(r.tagClass!==i.tagClass){a.push("["+i.name+"] "+'Expected tag class "'+i.tagClass+'", got "'+r.tagClass+'"')}if(r.type!==i.type){a.push("["+i.name+"] "+'Expected type "'+i.type+'", got "'+r.type+'"')}}return o};var i=/[^\\u0000-\\u00ff]/;t.prettyPrint=function(r,n,a){var o="";n=n||0;a=a||2;if(n>0){o+="\n"}var s="";for(var f=0;f<n*a;++f){s+=" "}o+=s+"Tag: ";switch(r.tagClass){case t.Class.UNIVERSAL:o+="Universal:";break;case t.Class.APPLICATION:o+="Application:";break;case t.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case t.Class.PRIVATE:o+="Private:";break}if(r.tagClass===t.Class.UNIVERSAL){o+=r.type;switch(r.type){case t.Type.NONE:o+=" (None)";break;case t.Type.BOOLEAN:o+=" (Boolean)";break;case t.Type.BITSTRING:o+=" (Bit string)";break;case t.Type.INTEGER:o+=" (Integer)";break;case t.Type.OCTETSTRING:o+=" (Octet string)";break;case t.Type.NULL:o+=" (Null)";break;case t.Type.OID:o+=" (Object Identifier)";break;case t.Type.ODESC:o+=" (Object Descriptor)";break;case t.Type.EXTERNAL:o+=" (External or Instance of)";break;case t.Type.REAL:o+=" (Real)";break;case t.Type.ENUMERATED:o+=" (Enumerated)";break;case t.Type.EMBEDDED:o+=" (Embedded PDV)";break;case t.Type.UTF8:o+=" (UTF8)";break;case t.Type.ROID:o+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:o+=" (Sequence)";break;case t.Type.SET:o+=" (Set)";break;case t.Type.PRINTABLESTRING:o+=" (Printable String)";break;case t.Type.IA5String:o+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:o+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case t.Type.BMPSTRING:o+=" (BMP String)";break}}else{o+=r.type}o+="\n";o+=s+"Constructed: "+r.constructed+"\n";if(r.composed){var u=0;var l="";for(var f=0;f<r.value.length;++f){if(r.value[f]!==undefined){u+=1;l+=t.prettyPrint(r.value[f],n+1,a);if(f+1<r.value.length){l+=","}}}o+=s+"Sub values: "+u+l}else{o+=s+"Value: ";if(r.type===t.Type.OID){var c=t.derToOid(r.value);o+=c;if(e.pki&&e.pki.oids){if(c in e.pki.oids){o+=" ("+e.pki.oids[c]+") "}}}if(r.type===t.Type.INTEGER){try{o+=t.derToInteger(r.value)}catch(h){o+="0x"+e.util.bytesToHex(r.value)}}else if(r.type===t.Type.OCTETSTRING){if(!i.test(r.value)){o+="("+r.value+") "}o+="0x"+e.util.bytesToHex(r.value)}else if(r.type===t.Type.UTF8){o+=e.util.decodeUtf8(r.value)}else if(r.type===t.Type.PRINTABLESTRING||r.type===t.Type.IA5String){o+=r.value}else if(i.test(r.value)){o+="0x"+e.util.bytesToHex(r.value)}else if(r.value.length===0){o+="[null]"}else{o+=r.value}}return o}}var t="asn1";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t;var r=0xdeadbeefcafe;var i=(r&16777215)==15715070;function n(e,t,r){this.data=[];if(e!=null)if("number"==typeof e)this.fromNumber(e,t,r);else if(t==null&&"string"!=typeof e)this.fromString(e,256);else this.fromString(e,t);}function a(){return new n(null)}function o(e,t,r,i,n,a){while(--a>=0){var o=t*this.data[e++]+r.data[i]+n;n=Math.floor(o/67108864);r.data[i++]=o&67108863}return n}function s(e,t,r,i,n,a){var o=t&32767,s=t>>15;while(--a>=0){var f=this.data[e]&32767;var u=this.data[e++]>>15;var l=s*f+u*o;f=o*f+((l&32767)<<15)+r.data[i]+(n&1073741823);n=(f>>>30)+(l>>>15)+s*u+(n>>>30);r.data[i++]=f&1073741823}return n}function f(e,t,r,i,n,a){var o=t&16383,s=t>>14;while(--a>=0){var f=this.data[e]&16383;var u=this.data[e++]>>14;var l=s*f+u*o;f=o*f+((l&16383)<<14)+r.data[i]+n;n=(f>>28)+(l>>14)+s*u;r.data[i++]=f&268435455}return n}if(typeof navigator==="undefined"){n.prototype.am=f;t=28}else if(i&&navigator.appName=="Microsoft Internet Explorer"){n.prototype.am=s;t=30}else if(i&&navigator.appName!="Netscape"){n.prototype.am=o;t=26}else{n.prototype.am=f;t=28}n.prototype.DB=t;n.prototype.DM=(1<<t)-1;n.prototype.DV=1<<t;var u=52;n.prototype.FV=Math.pow(2,u);n.prototype.F1=u-t;n.prototype.F2=2*t-u;var l="0123456789abcdefghijklmnopqrstuvwxyz";var c=new Array;var h,d;h="0".charCodeAt(0);for(d=0;d<=9;++d)c[h++]=d;h="a".charCodeAt(0);for(d=10;d<36;++d)c[h++]=d;h="A".charCodeAt(0);for(d=10;d<36;++d)c[h++]=d;function p(e){return l.charAt(e)}function g(e,t){var r=c[e.charCodeAt(t)];return r==null?-1:r}function v(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t;e.s=this.s}function y(e){this.t=1;this.s=e<0?-1:0;if(e>0)this.data[0]=e;else if(e<-1)this.data[0]=e+this.DV;else this.t=0}function m(e){var t=a();t.fromInt(e);return t}function w(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0;this.s=0;var i=e.length,a=false,o=0;while(--i>=0){var s=r==8?e[i]&255:g(e,i);if(s<0){if(e.charAt(i)=="-")a=true;continue}a=false;if(o==0)this.data[this.t++]=s;else if(o+r>this.DB){this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o;this.data[this.t++]=s>>this.DB-o}else this.data[this.t-1]|=s<<o;o+=r;if(o>=this.DB)o-=this.DB}if(r==8&&(e[0]&128)!=0){this.s=-1;if(o>0)this.data[this.t-1]|=(1<<this.DB-o)-1<<o}this.clamp();if(a)n.ZERO.subTo(this,this)}function C(){var e=this.s&this.DM;while(this.t>0&&this.data[this.t-1]==e)--this.t}function b(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,i,n=false,a="",o=this.t;var s=this.DB-o*this.DB%t;if(o-->0){if(s<this.DB&&(i=this.data[o]>>s)>0){n=true;a=p(i)}while(o>=0){if(s<t){i=(this.data[o]&(1<<s)-1)<<t-s;i|=this.data[--o]>>(s+=this.DB-t)}else{i=this.data[o]>>(s-=t)&r;if(s<=0){s+=this.DB;--o}}if(i>0)n=true;if(n)a+=p(i)}}return n?a:"0"}function D(){var e=a();n.ZERO.subTo(this,e);return e}function I(){return this.s<0?this.negate():this}function S(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;t=r-e.t;if(t!=0)return this.s<0?-t:t;while(--r>=0)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function B(e){var t=1,r;if((r=e>>>16)!=0){e=r;t+=16}if((r=e>>8)!=0){e=r;t+=8}if((r=e>>4)!=0){e=r;t+=4}if((r=e>>2)!=0){e=r;t+=2}if((r=e>>1)!=0){e=r;t+=1}return t}function k(){if(this.t<=0)return 0;return this.DB*(this.t-1)+B(this.data[this.t-1]^this.s&this.DM)}function _(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e;t.s=this.s}function A(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0);t.s=this.s}function T(e,t){var r=e%this.DB;var i=this.DB-r;var n=(1<<i)-1;var a=Math.floor(e/this.DB),o=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s){t.data[s+a+1]=this.data[s]>>i|o;o=(this.data[s]&n)<<r}for(s=a-1;s>=0;--s)t.data[s]=0;t.data[a]=o;t.t=this.t+a+1;t.s=this.s;t.clamp()}function E(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var i=e%this.DB;var n=this.DB-i;var a=(1<<i)-1;t.data[0]=this.data[r]>>i;for(var o=r+1;o<this.t;++o){t.data[o-r-1]|=(this.data[o]&a)<<n;t.data[o-r]=this.data[o]>>i}if(i>0)t.data[this.t-r-1]|=(this.s&a)<<n;t.t=this.t-r;t.clamp()}function x(e,t){var r=0,i=0,n=Math.min(e.t,this.t);while(r<n){i+=this.data[r]-e.data[r];t.data[r++]=i&this.DM;i>>=this.DB}if(e.t<this.t){i-=e.s;while(r<this.t){i+=this.data[r];t.data[r++]=i&this.DM;i>>=this.DB}i+=this.s}else{i+=this.s;while(r<e.t){i-=e.data[r];t.data[r++]=i&this.DM;i>>=this.DB}i-=e.s}t.s=i<0?-1:0;if(i<-1)t.data[r++]=this.DV+i;else if(i>0)t.data[r++]=i;t.t=r;t.clamp()}function R(e,t){var r=this.abs(),i=e.abs();var a=r.t;t.t=a+i.t;while(--a>=0)t.data[a]=0;for(a=0;a<i.t;++a)t.data[a+r.t]=r.am(0,i.data[a],t,a,0,r.t);t.s=0;t.clamp();if(this.s!=e.s)n.ZERO.subTo(t,t)}function P(e){var t=this.abs();var r=e.t=2*t.t;while(--r>=0)e.data[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t.data[r],e,2*r,0,1);if((e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,i,t.t-r-1))>=t.DV){e.data[r+t.t]-=t.DV;e.data[r+t.t+1]=1}}if(e.t>0)e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1);e.s=0;e.clamp()}function L(e,t,r){var i=e.abs();if(i.t<=0)return;var o=this.abs();if(o.t<i.t){if(t!=null)t.fromInt(0);if(r!=null)this.copyTo(r);return}if(r==null)r=a();var s=a(),f=this.s,u=e.s;var l=this.DB-B(i.data[i.t-1]);if(l>0){i.lShiftTo(l,s);o.lShiftTo(l,r)}else{i.copyTo(s);o.copyTo(r)}var c=s.t;var h=s.data[c-1];if(h==0)return;var d=h*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0);var p=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2;var y=r.t,m=y-c,w=t==null?a():t;s.dlShiftTo(m,w);if(r.compareTo(w)>=0){r.data[r.t++]=1;r.subTo(w,r)}n.ONE.dlShiftTo(c,w);w.subTo(s,s);while(s.t<c)s.data[s.t++]=0;while(--m>=0){var C=r.data[--y]==h?this.DM:Math.floor(r.data[y]*p+(r.data[y-1]+v)*g);if((r.data[y]+=s.am(0,C,r,m,0,c))<C){s.dlShiftTo(m,w);r.subTo(w,r);while(r.data[y]<--C)r.subTo(w,r)}}if(t!=null){r.drShiftTo(c,t);if(f!=u)n.ZERO.subTo(t,t)}r.t=c;r.clamp();if(l>0)r.rShiftTo(l,r);if(f<0)n.ZERO.subTo(r,r)}function N(e){var t=a();this.abs().divRemTo(e,null,t);if(this.s<0&&t.compareTo(n.ZERO)>0)e.subTo(t,t);return t}function O(e){this.m=e}function U(e){if(e.s<0||e.compareTo(this.m)>=0)return e.mod(this.m);else return e}function j(e){return e}function M(e){e.divRemTo(this.m,null,e)}function z(e,t,r){e.multiplyTo(t,r);this.reduce(r)}function V(e,t){e.squareTo(t);this.reduce(t)}O.prototype.convert=U;O.prototype.revert=j;O.prototype.reduce=M;O.prototype.mulTo=z;O.prototype.sqrTo=V;function q(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;t=t*(2-(e&15)*t)&15;t=t*(2-(e&255)*t)&255;t=t*(2-((e&65535)*t&65535))&65535;t=t*(2-e*t%this.DV)%this.DV;return t>0?this.DV-t:-t}function K(e){this.m=e;this.mp=e.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function H(e){var t=a();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);if(e.s<0&&t.compareTo(n.ZERO)>0)this.m.subTo(t,t);return t}function G(e){var t=a();e.copyTo(t);this.reduce(t);return t}function Q(e){while(e.t<=this.mt2)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767;var i=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;r=t+this.m.t;e.data[r]+=this.m.am(0,i,e,t,0,this.m.t);while(e.data[r]>=e.DV){e.data[r]-=e.DV;e.data[++r]++}}e.clamp();e.drShiftTo(this.m.t,e);if(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function F(e,t){e.squareTo(t);this.reduce(t)}function W(e,t,r){e.multiplyTo(t,r);this.reduce(r)}K.prototype.convert=H;K.prototype.revert=G;K.prototype.reduce=Q;K.prototype.mulTo=W;K.prototype.sqrTo=F;function J(){return(this.t>0?this.data[0]&1:this.s)==0}function Z(e,t){if(e>4294967295||e<1)return n.ONE;var r=a(),i=a(),o=t.convert(this),s=B(e)-1;o.copyTo(r);while(--s>=0){t.sqrTo(r,i);if((e&1<<s)>0)t.mulTo(i,o,r);else{var f=r;r=i;i=f}}return t.revert(r)}function X(e,t){var r;if(e<256||t.isEven())r=new O(t);else r=new K(t);return this.exp(e,r)}n.prototype.copyTo=v;n.prototype.fromInt=y;n.prototype.fromString=w;n.prototype.clamp=C;n.prototype.dlShiftTo=_;n.prototype.drShiftTo=A;n.prototype.lShiftTo=T;n.prototype.rShiftTo=E;n.prototype.subTo=x;n.prototype.multiplyTo=R;n.prototype.squareTo=P;n.prototype.divRemTo=L;n.prototype.invDigit=q;n.prototype.isEven=J;n.prototype.exp=Z;n.prototype.toString=b;n.prototype.negate=D;n.prototype.abs=I;n.prototype.compareTo=S;n.prototype.bitLength=k;n.prototype.mod=N;n.prototype.modPowInt=X;n.ZERO=m(0);n.ONE=m(1);function $(){var e=a();this.copyTo(e);return e}function Y(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;else if(this.t==0)return-1}else if(this.t==1)return this.data[0];else if(this.t==0)return 0;return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ee(){return this.t==0?this.s:this.data[0]<<24>>24}function te(){return this.t==0?this.s:this.data[0]<<16>>16}function re(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ie(){if(this.s<0)return-1;else if(this.t<=0||this.t==1&&this.data[0]<=0)return 0;else return 1}function ne(e){if(e==null)e=10;if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e);var r=Math.pow(e,t);var i=m(r),n=a(),o=a(),s="";this.divRemTo(i,n,o);while(n.signum()>0){s=(r+o.intValue()).toString(e).substr(1)+s;n.divRemTo(i,n,o)}return o.intValue().toString(e)+s}function ae(e,t){this.fromInt(0);if(t==null)t=10;var r=this.chunkSize(t);var i=Math.pow(t,r),a=false,o=0,s=0;for(var f=0;f<e.length;++f){var u=g(e,f);if(u<0){if(e.charAt(f)=="-"&&this.signum()==0)a=true;continue}s=t*s+u;if(++o>=r){this.dMultiply(i);this.dAddOffset(s,0);o=0;s=0}}if(o>0){this.dMultiply(Math.pow(t,o));this.dAddOffset(s,0)}if(a)n.ZERO.subTo(this,this)}function oe(e,t,r){if("number"==typeof t){if(e<2)this.fromInt(1);else{this.fromNumber(e,r);if(!this.testBit(e-1))this.bitwiseTo(n.ONE.shiftLeft(e-1),pe,this);if(this.isEven())this.dAddOffset(1,0);while(!this.isProbablePrime(t)){this.dAddOffset(2,0);if(this.bitLength()>e)this.subTo(n.ONE.shiftLeft(e-1),this)}}}else{var i=new Array,a=e&7;i.length=(e>>3)+1;t.nextBytes(i);if(a>0)i[0]&=(1<<a)-1;else i[0]=0;this.fromString(i,256)}}function se(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,i,n=0;if(e-->0){if(r<this.DB&&(i=this.data[e]>>r)!=(this.s&this.DM)>>r)t[n++]=i|this.s<<this.DB-r;while(e>=0){if(r<8){i=(this.data[e]&(1<<r)-1)<<8-r;i|=this.data[--e]>>(r+=this.DB-8)}else{i=this.data[e]>>(r-=8)&255;if(r<=0){r+=this.DB;--e}}if((i&128)!=0)i|=-256;if(n==0&&(this.s&128)!=(i&128))++n;if(n>0||i!=this.s)t[n++]=i}}return t}function fe(e){return this.compareTo(e)==0}function ue(e){return this.compareTo(e)<0?this:e}function le(e){return this.compareTo(e)>0?this:e}function ce(e,t,r){var i,n,a=Math.min(e.t,this.t);for(i=0;i<a;++i)r.data[i]=t(this.data[i],e.data[i]);if(e.t<this.t){n=e.s&this.DM;for(i=a;i<this.t;++i)r.data[i]=t(this.data[i],n);r.t=this.t}else{n=this.s&this.DM;for(i=a;i<e.t;++i)r.data[i]=t(n,e.data[i]);r.t=e.t}r.s=t(this.s,e.s);r.clamp()}function he(e,t){return e&t}function de(e){var t=a();this.bitwiseTo(e,he,t);return t}function pe(e,t){return e|t}function ge(e){var t=a();this.bitwiseTo(e,pe,t);return t}function ve(e,t){return e^t}function ye(e){var t=a();this.bitwiseTo(e,ve,t);return t}function me(e,t){return e&~t}function we(e){var t=a();this.bitwiseTo(e,me,t);return t}function Ce(){var e=a();for(var t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];e.t=this.t;e.s=~this.s;return e}function be(e){var t=a();if(e<0)this.rShiftTo(-e,t);else this.lShiftTo(e,t);return t}function De(e){var t=a();if(e<0)this.lShiftTo(-e,t);else this.rShiftTo(e,t);return t}function Ie(e){if(e==0)return-1;var t=0;if((e&65535)==0){e>>=16;t+=16}if((e&255)==0){e>>=8;t+=8}if((e&15)==0){e>>=4;t+=4}if((e&3)==0){e>>=2;t+=2}if((e&1)==0)++t;return t}function Se(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Ie(this.data[e]);if(this.s<0)return this.t*this.DB;return-1}function Be(e){var t=0;while(e!=0){e&=e-1;++t}return t}function ke(){var e=0,t=this.s&this.DM;for(var r=0;r<this.t;++r)e+=Be(this.data[r]^t);return e}function _e(e){var t=Math.floor(e/this.DB);if(t>=this.t)return this.s!=0;return(this.data[t]&1<<e%this.DB)!=0}function Ae(e,t){var r=n.ONE.shiftLeft(e);this.bitwiseTo(r,t,r);return r}function Te(e){return this.changeBit(e,pe)}function Ee(e){return this.changeBit(e,me)}function xe(e){return this.changeBit(e,ve)}function Re(e,t){var r=0,i=0,n=Math.min(e.t,this.t);while(r<n){i+=this.data[r]+e.data[r];t.data[r++]=i&this.DM;i>>=this.DB}if(e.t<this.t){i+=e.s;while(r<this.t){i+=this.data[r];t.data[r++]=i&this.DM;i>>=this.DB}i+=this.s}else{i+=this.s;while(r<e.t){i+=e.data[r];t.data[r++]=i&this.DM;i>>=this.DB}i+=e.s}t.s=i<0?-1:0;if(i>0)t.data[r++]=i;else if(i<-1)t.data[r++]=this.DV+i;t.t=r;t.clamp()}function Pe(e){var t=a();this.addTo(e,t);return t}function Le(e){var t=a();this.subTo(e,t);return t}function Ne(e){var t=a();this.multiplyTo(e,t);return t}function Oe(e){var t=a();this.divRemTo(e,t,null);return t}function Ue(e){var t=a();this.divRemTo(e,null,t);return t}function je(e){var t=a(),r=a();this.divRemTo(e,t,r);return new Array(t,r)}function Me(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()}function ze(e,t){if(e==0)return;while(this.t<=t)this.data[this.t++]=0;this.data[t]+=e;while(this.data[t]>=this.DV){this.data[t]-=this.DV;if(++t>=this.t)this.data[this.t++]=0;++this.data[t]}}function Ve(){}function qe(e){return e}function Ke(e,t,r){e.multiplyTo(t,r)}function He(e,t){e.squareTo(t)}Ve.prototype.convert=qe;Ve.prototype.revert=qe;Ve.prototype.mulTo=Ke;Ve.prototype.sqrTo=He;function Ge(e){return this.exp(e,new Ve)}function Qe(e,t,r){var i=Math.min(this.t+e.t,t);r.s=0;r.t=i;while(i>0)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()}function Fe(e,t,r){--t;var i=r.t=this.t+e.t-t;r.s=0;while(--i>=0)r.data[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r.data[this.t+i-t]=this.am(t-i,e.data[i],r,0,0,this.t+i-t);r.clamp();r.drShiftTo(1,r)}function We(e){this.r2=a();this.q3=a();n.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}function Je(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);else if(e.compareTo(this.m)<0)return e;else{var t=a();e.copyTo(t);this.reduce(t);return t}}function Ze(e){return e}function Xe(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1){e.t=this.m.t+1;e.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function $e(e,t){e.squareTo(t);this.reduce(t)}function Ye(e,t,r){e.multiplyTo(t,r);this.reduce(r)}We.prototype.convert=Je;We.prototype.revert=Ze;We.prototype.reduce=Xe;We.prototype.mulTo=Ye;We.prototype.sqrTo=$e;function et(e,t){var r=e.bitLength(),i,n=m(1),o;if(r<=0)return n;else if(r<18)i=1;else if(r<48)i=3;else if(r<144)i=4;else if(r<768)i=5;else i=6;if(r<8)o=new O(t);else if(t.isEven())o=new We(t);else o=new K(t);var s=new Array,f=3,u=i-1,l=(1<<i)-1;s[1]=o.convert(this);if(i>1){var c=a();o.sqrTo(s[1],c);while(f<=l){s[f]=a();o.mulTo(c,s[f-2],s[f]);f+=2}}var h=e.t-1,d,p=true,g=a(),v;r=B(e.data[h])-1;while(h>=0){if(r>=u)d=e.data[h]>>r-u&l;else{d=(e.data[h]&(1<<r+1)-1)<<u-r;if(h>0)d|=e.data[h-1]>>this.DB+r-u}f=i;while((d&1)==0){d>>=1;--f}if((r-=f)<0){r+=this.DB;--h}if(p){s[d].copyTo(n);p=false}else{while(f>1){o.sqrTo(n,g);o.sqrTo(g,n);f-=2}if(f>0)o.sqrTo(n,g);else{v=n;n=g;g=v}o.mulTo(g,s[d],n)}while(h>=0&&(e.data[h]&1<<r)==0){o.sqrTo(n,g);v=n;n=g;g=v;if(--r<0){r=this.DB-1;--h}}}return o.revert(n)}function tt(e){var t=this.s<0?this.negate():this.clone();var r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var i=t;t=r;r=i}var n=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;if(n<a)a=n;if(a>0){t.rShiftTo(a,t);r.rShiftTo(a,r)}while(t.signum()>0){if((n=t.getLowestSetBit())>0)t.rShiftTo(n,t);if((n=r.getLowestSetBit())>0)r.rShiftTo(n,r);if(t.compareTo(r)>=0){t.subTo(r,t);t.rShiftTo(1,t)}else{r.subTo(t,r);r.rShiftTo(1,r)}}if(a>0)r.lShiftTo(a,r);return r}function rt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this.data[i])%e;return r}function it(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return n.ZERO;var r=e.clone(),i=this.clone();var a=m(1),o=m(0),s=m(0),f=m(1);while(r.signum()!=0){while(r.isEven()){r.rShiftTo(1,r);if(t){if(!a.isEven()||!o.isEven()){a.addTo(this,a);o.subTo(e,o)}a.rShiftTo(1,a)}else if(!o.isEven())o.subTo(e,o);o.rShiftTo(1,o)}while(i.isEven()){i.rShiftTo(1,i);if(t){if(!s.isEven()||!f.isEven()){s.addTo(this,s);f.subTo(e,f)}s.rShiftTo(1,s)}else if(!f.isEven())f.subTo(e,f);f.rShiftTo(1,f)}if(r.compareTo(i)>=0){r.subTo(i,r);if(t)a.subTo(s,a);o.subTo(f,o)}else{i.subTo(r,i);if(t)s.subTo(a,s);f.subTo(o,f)}}if(i.compareTo(n.ONE)!=0)return n.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;if(f.signum()<0)return f.add(e);else return f}var nt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];var at=(1<<26)/nt[nt.length-1];function ot(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=nt[nt.length-1]){for(t=0;t<nt.length;++t)if(r.data[0]==nt[t])return true;return false}if(r.isEven())return false;t=1;while(t<nt.length){var i=nt[t],n=t+1;while(n<nt.length&&i<at)i*=nt[n++];i=r.modInt(i);while(t<n)if(i%nt[t++]==0)return false}return r.millerRabin(e)}function st(e){var t=this.subtract(n.ONE);var r=t.getLowestSetBit();if(r<=0)return false;var i=t.shiftRight(r);var a=ft();var o;for(var s=0;s<e;++s){do{o=new n(this.bitLength(),a)}while(o.compareTo(n.ONE)<=0||o.compareTo(t)>=0);var f=o.modPow(i,this);if(f.compareTo(n.ONE)!=0&&f.compareTo(t)!=0){var u=1;while(u++<r&&f.compareTo(t)!=0){f=f.modPowInt(2,this);if(f.compareTo(n.ONE)==0)return false}if(f.compareTo(t)!=0)return false}}return true}function ft(){return{nextBytes:function(e){for(var t=0;t<e.length;++t){e[t]=Math.floor(Math.random()*255)}}}}n.prototype.chunkSize=re;n.prototype.toRadix=ne;n.prototype.fromRadix=ae;n.prototype.fromNumber=oe;n.prototype.bitwiseTo=ce;n.prototype.changeBit=Ae;n.prototype.addTo=Re;n.prototype.dMultiply=Me;n.prototype.dAddOffset=ze;n.prototype.multiplyLowerTo=Qe;n.prototype.multiplyUpperTo=Fe;n.prototype.modInt=rt;n.prototype.millerRabin=st;n.prototype.clone=$;n.prototype.intValue=Y;n.prototype.byteValue=ee;n.prototype.shortValue=te;n.prototype.signum=ie;n.prototype.toByteArray=se;n.prototype.equals=fe;n.prototype.min=ue;n.prototype.max=le;n.prototype.and=de;n.prototype.or=ge;n.prototype.xor=ye;n.prototype.andNot=we;n.prototype.not=Ce;n.prototype.shiftLeft=be;n.prototype.shiftRight=De;n.prototype.getLowestSetBit=Se;n.prototype.bitCount=ke;n.prototype.testBit=_e;n.prototype.setBit=Te;n.prototype.clearBit=Ee;n.prototype.flipBit=xe;n.prototype.add=Pe;n.prototype.subtract=Le;n.prototype.multiply=Ne;n.prototype.divide=Oe;n.prototype.remainder=Ue;n.prototype.divideAndRemainder=je;n.prototype.modPow=et;n.prototype.modInverse=it;n.prototype.pow=Ge;n.prototype.gcd=tt;n.prototype.isProbablePrime=ot;e.jsbn=e.jsbn||{};e.jsbn.BigInteger=n}var t="jsbn";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){e.cipher=e.cipher||{};e.cipher.algorithms=e.cipher.algorithms||{};e.cipher.createCipher=function(t,r){var i=t;if(typeof i==="string"){i=e.cipher.getAlgorithm(i);if(i){i=i()}}if(!i){throw new Error("Unsupported algorithm: "+t)}return new e.cipher.BlockCipher({algorithm:i,key:r,decrypt:false})};e.cipher.createDecipher=function(t,r){var i=t;if(typeof i==="string"){i=e.cipher.getAlgorithm(i);if(i){i=i()}}if(!i){throw new Error("Unsupported algorithm: "+t)}return new e.cipher.BlockCipher({algorithm:i,key:r,decrypt:true})};e.cipher.registerAlgorithm=function(t,r){t=t.toUpperCase();e.cipher.algorithms[t]=r};e.cipher.getAlgorithm=function(t){t=t.toUpperCase();if(t in e.cipher.algorithms){return e.cipher.algorithms[t]}return null};var t=e.cipher.BlockCipher=function(e){this.algorithm=e.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=false;this._input=null;this.output=null;this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=e.decrypt;this.algorithm.initialize(e)};t.prototype.start=function(t){t=t||{};var r={};for(var i in t){r[i]=t[i]}r.decrypt=this._decrypt;this._finish=false;this._input=e.util.createBuffer();this.output=t.output||e.util.createBuffer();this.mode.start(r)};t.prototype.update=function(e){if(!this._finish){this._input.putBuffer(e)}while(this._input.length()>=this.blockSize||this._input.length()>0&&this._finish){this._op.call(this.mode,this._input,this.output)}this._input.compact()};t.prototype.finish=function(e){if(e&&this.mode.name==="CBC"){this.mode.pad=function(t){return e(this.blockSize,t,false)};this.mode.unpad=function(t){return e(this.blockSize,t,true)}}var t={};t.decrypt=this._decrypt;t.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad){if(!this.mode.pad(this._input,t)){return false}}this._finish=true;this.update();if(this._decrypt&&this.mode.unpad){if(!this.mode.unpad(this.output,t)){return false}}if(this.mode.afterFinish){if(!this.mode.afterFinish(this.output,t)){return false}}return true}}var t="cipher";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){e.cipher=e.cipher||{};var t=e.cipher.modes=e.cipher.modes||{};t.ecb=function(e){e=e||{};this.name="ECB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=new Array(this._blocks);this._outBlock=new Array(this._blocks)};t.ecb.prototype.start=function(e){};t.ecb.prototype.encrypt=function(e,t){for(var r=0;r<this._blocks;++r){this._inBlock[r]=e.getInt32()}this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){t.putInt32(this._outBlock[r])}};t.ecb.prototype.decrypt=function(e,t){for(var r=0;r<this._blocks;++r){this._inBlock[r]=e.getInt32()}this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){t.putInt32(this._outBlock[r])}};t.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(r,r);return true};t.ecb.prototype.unpad=function(e,t){if(t.overflow>0){return false}var r=e.length();var i=e.at(r-1);if(i>this.blockSize<<2){return false}e.truncate(i);return true};t.cbc=function(e){e=e||{};this.name="CBC";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=new Array(this._blocks);this._outBlock=new Array(this._blocks)};t.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev){throw new Error("Invalid IV parameter.")}this._iv=this._prev.slice(0)}else if(!("iv"in e)){throw new Error("Invalid IV parameter.")}else{this._iv=r(e.iv);this._prev=this._iv.slice(0)}};t.cbc.prototype.encrypt=function(e,t){for(var r=0;r<this._blocks;++r){this._inBlock[r]=this._prev[r]^e.getInt32()}this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){t.putInt32(this._outBlock[r])}this._prev=this._outBlock};t.cbc.prototype.decrypt=function(e,t){for(var r=0;r<this._blocks;++r){this._inBlock[r]=e.getInt32()}this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){t.putInt32(this._prev[r]^this._outBlock[r])}this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(r,r);return true};t.cbc.prototype.unpad=function(e,t){if(t.overflow>0){return false}var r=e.length();var i=e.at(r-1);if(i>this.blockSize<<2){return false}e.truncate(i);return true};t.cfb=function(e){e=e||{};this.name="CFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._blocks)};t.cfb.prototype.start=function(e){if(!("iv"in e)){throw new Error("Invalid IV parameter.")}this._iv=r(e.iv);this._inBlock=this._iv.slice(0)};t.cfb.prototype.encrypt=function(e,t){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){this._inBlock[r]=e.getInt32()^this._outBlock[r];t.putInt32(this._inBlock[r])}};t.cfb.prototype.decrypt=function(e,t){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){this._inBlock[r]=e.getInt32();t.putInt32(this._inBlock[r]^this._outBlock[r])}};t.cfb.prototype.afterFinish=function(e,t){if(t.overflow>0){e.truncate(this.blockSize-t.overflow)}return true};t.ofb=function(e){e=e||{};this.name="OFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._blocks)};t.ofb.prototype.start=function(e){if(!("iv"in e)){throw new Error("Invalid IV parameter.")}this._iv=r(e.iv);this._inBlock=this._iv.slice(0)};t.ofb.prototype.encrypt=function(e,t){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r){t.putInt32(e.getInt32()^this._outBlock[r]);this._inBlock[r]=this._outBlock[r]}};t.ofb.prototype.decrypt=t.ofb.prototype.encrypt;t.ofb.prototype.afterFinish=function(e,t){if(t.overflow>0){e.truncate(this.blockSize-t.overflow)}return true};t.ctr=function(e){e=e||{};this.name="CTR";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._blocks)};t.ctr.prototype.start=function(e){if(!("iv"in e)){throw new Error("Invalid IV parameter.")}this._iv=r(e.iv);this._inBlock=this._iv.slice(0)};t.ctr.prototype.encrypt=function(e,t){this.cipher.encrypt(this._inBlock,this._outBlock);i(this._inBlock);for(var r=0;r<this._blocks;++r){t.putInt32(e.getInt32()^this._outBlock[r])}};t.ctr.prototype.decrypt=t.ctr.prototype.encrypt;t.ctr.prototype.afterFinish=function(e,t){if(t.overflow>0){e.truncate(this.blockSize-t.overflow)}return true};t.gcm=function(e){e=e||{};this.name="GCM";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._blocks=this.blockSize/4;this._inBlock=new Array(this._blocks);this._outBlock=new Array(this._blocks);this._R=3774873600};t.gcm.prototype.start=function(t){if(!("iv"in t)){throw new Error("Invalid IV parameter.")}var r=e.util.createBuffer(t.iv);this._cipherLength=0;var a;if("additionalData"in t){a=e.util.createBuffer(t.additionalData)}else{a=e.util.createBuffer()}if("tagLength"in t){this._tagLength=t.tagLength}else{this._tagLength=128}this._tag=null;if(t.decrypt){this._tag=e.util.createBuffer(t.tag).getBytes();if(this._tag.length!==this._tagLength/8){throw new Error("Authentication tag does not match tag length.")}}this._hashBlock=new Array(this._blocks);this.tag=null;this._hashSubkey=new Array(this._blocks);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(o===12){this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1]}else{this._j0=[0,0,0,0];while(r.length()>0){this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])}this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(n(o*8)))}this._inBlock=this._j0.slice(0);i(this._inBlock);a=e.util.createBuffer(a);this._aDataLength=n(a.length()*8);var s=a.length()%this.blockSize;if(s){a.fillWithByte(0,this.blockSize-s)}this._s=[0,0,0,0];while(a.length()>0){this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])}};t.gcm.prototype.encrypt=function(t,r){this.cipher.encrypt(this._inBlock,this._outBlock);i(this._inBlock);var n=t.length();for(var a=0;a<this._blocks;++a){this._outBlock[a]^=t.getInt32()}if(n<this.blockSize){var o=n%this.blockSize;this._cipherLength+=o;var s=e.util.createBuffer();s.putInt32(this._outBlock[0]);s.putInt32(this._outBlock[1]);s.putInt32(this._outBlock[2]);s.putInt32(this._outBlock[3]);s.truncate(this.blockSize-o);this._outBlock[0]=s.getInt32();this._outBlock[1]=s.getInt32();this._outBlock[2]=s.getInt32();this._outBlock[3]=s.getInt32()}else{this._cipherLength+=this.blockSize}for(var a=0;a<this._blocks;++a){r.putInt32(this._outBlock[a])}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock)};t.gcm.prototype.decrypt=function(e,t){this.cipher.encrypt(this._inBlock,this._outBlock);i(this._inBlock);var r=e.length();this._hashBlock[0]=e.getInt32();this._hashBlock[1]=e.getInt32();this._hashBlock[2]=e.getInt32();this._hashBlock[3]=e.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._blocks;++n){t.putInt32(this._outBlock[n]^this._hashBlock[n])}if(r<this.blockSize){this._cipherLength+=r%this.blockSize}else{this._cipherLength+=this.blockSize}};t.gcm.prototype.afterFinish=function(t,r){var i=true;if(r.overflow){t.truncate(this.blockSize-r.overflow)}this.tag=e.util.createBuffer();var a=this._aDataLength.concat(n(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,a);var o=[];this.cipher.encrypt(this._j0,o);for(var s=0;s<this._blocks;++s){this.tag.putInt32(this._s[s]^o[s])}this.tag.truncate(this.tag.length()%(this._tagLength/8));if(r.decrypt&&this.tag.bytes()!==this._tag){i=false}return i};t.gcm.prototype.multiply=function(e,t){var r=[0,0,0,0];var i=t.slice(0);for(var n=0;n<128;++n){var a=e[n/32|0]&1<<31-n%32;if(a){r[0]^=i[0];r[1]^=i[1];r[2]^=i[2];r[3]^=i[3]}this.pow(i,i)}return r};t.gcm.prototype.pow=function(e,t){var r=e[3]&1;for(var i=3;i>0;--i){t[i]=e[i]>>>1|(e[i-1]&1)<<31}t[0]=e[0]>>>1;if(r){t[0]^=this._R}};t.gcm.prototype.tableMultiply=function(e){var t=[0,0,0,0];for(var r=0;r<32;++r){var i=r/8|0;var n=e[i]>>>(7-r%8)*4&15;var a=this._m[r][n];t[0]^=a[0];t[1]^=a[1];t[2]^=a[2];t[3]^=a[3]}return t};t.gcm.prototype.ghash=function(e,t,r){t[0]^=r[0];t[1]^=r[1];t[2]^=r[2];t[3]^=r[3];return this.tableMultiply(t)};t.gcm.prototype.generateHashTable=function(e,t){var r=8/t;var i=4*r;var n=16*r;var a=new Array(n);for(var o=0;o<n;++o){var s=[0,0,0,0];var f=o/i|0;var u=(i-1-o%i)*t;s[f]=1<<t-1<<u;a[o]=this.generateSubHashTable(this.multiply(s,e),t)}return a};t.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t;var i=r>>>1;var n=new Array(r);n[i]=e.slice(0);var a=i>>>1;while(a>0){this.pow(n[2*a],n[a]=[]);a>>=1}a=2;while(a<i){for(var o=1;o<a;++o){var s=n[a];var f=n[o];n[a+o]=[s[0]^f[0],s[1]^f[1],s[2]^f[2],s[3]^f[3]]}a*=2}n[0]=[0,0,0,0];for(a=i+1;a<r;++a){var u=n[a^i];n[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return n};function r(t){if(typeof t==="string"){t=e.util.createBuffer(t)}if(e.util.isArray(t)&&t.length>4){var r=t;t=e.util.createBuffer();for(var i=0;i<t.length;++i){t.putByte(r[i])}}if(!e.util.isArray(t)){t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]}return t}function i(e){e[e.length-1]=e[e.length-1]+1&4294967295}function n(e){return[e/4294967296|0,e&4294967295]}}var t="cipherModes";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){e.aes=e.aes||{};e.aes.startEncrypting=function(e,t,r,i){var n=h({key:e,output:r,decrypt:false,mode:i});n.start(t);return n};e.aes.createEncryptionCipher=function(e,t){return h({key:e,output:null,decrypt:false,mode:t})};e.aes.startDecrypting=function(e,t,r,i){var n=h({key:e,output:r,decrypt:true,mode:i});n.start(t);return n};e.aes.createDecryptionCipher=function(e,t){return h({key:e,output:null,decrypt:true,mode:t})};e.aes.Algorithm=function(e,t){if(!r){u()}var i=this;i.name=e;i.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return c(i._w,e,t,false)},decrypt:function(e,t){return c(i._w,e,t,true)}}});i._init=false;};e.aes.Algorithm.prototype.initialize=function(t){if(this._init){return}var r=t.key;var i;if(typeof r==="string"&&(r.length===16||r.length===24||r.length===32)){r=e.util.createBuffer(r)}else if(e.util.isArray(r)&&(r.length===16||r.length===24||r.length===32)){i=r;r=e.util.createBuffer();for(var n=0;n<i.length;++n){r.putByte(i[n])}}if(!e.util.isArray(r)){i=r;r=[];var a=i.length();if(a===16||a===24||a===32){a=a>>>2;for(var n=0;n<a;++n){r.push(i.getInt32())}}}if(!e.util.isArray(r)||!(r.length===4||r.length===6||r.length===8)){throw new Error("Invalid key parameter.")}var o=this.mode.name;var s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=l(r,t.decrypt&&!s);this._init=true};e.aes._expandKey=function(e,t){if(!r){u()}return l(e,t)};e.aes._updateBlock=c;t("AES-CBC",e.cipher.modes.cbc);t("AES-CFB",e.cipher.modes.cfb);t("AES-OFB",e.cipher.modes.ofb);t("AES-CTR",e.cipher.modes.ctr);t("AES-GCM",e.cipher.modes.gcm);function t(t,r){var i=function(){return new e.aes.Algorithm(t,r)};e.cipher.registerAlgorithm(t,i)}var r=false;var i=4;var n;var a;var o;var s;var f;function u(){r=true;o=[0,1,2,4,8,16,32,64,128,27,54];var e=new Array(256);for(var t=0;t<128;++t){e[t]=t<<1;e[t+128]=t+128<<1^283}n=new Array(256);a=new Array(256);s=new Array(4);f=new Array(4);for(var t=0;t<4;++t){s[t]=new Array(256);f[t]=new Array(256)}var i=0,u=0,l,c,h,d,p,g,v;for(var t=0;t<256;++t){d=u^u<<1^u<<2^u<<3^u<<4;d=d>>8^d&255^99;n[i]=d;a[d]=i;p=e[d];l=e[i];c=e[l];h=e[c];g=p<<24^d<<16^d<<8^(d^p);v=(l^c^h)<<24^(i^h)<<16^(i^c^h)<<8^(i^l^h);for(var y=0;y<4;++y){s[y][i]=g;f[y][d]=v;g=g<<24|g>>>8;v=v<<24|v>>>8}if(i===0){i=u=1}else{i=l^e[e[e[l^h]]];u^=e[e[u]]}}}function l(e,t){if(typeof checkIntegrity==="function"){checkIntegrity()}var r=e.slice(0);var a,s=1;var u=r.length;var l=u+6+1;var c=i*l;for(var h=u;h<c;++h){a=r[h-1];if(h%u===0){a=n[a>>>16&255]<<24^n[a>>>8&255]<<16^n[a&255]<<8^n[a>>>24]^o[s]<<24;s++}else if(u>6&&h%u===4){a=n[a>>>24]<<24^n[a>>>16&255]<<16^n[a>>>8&255]<<8^n[a&255]}r[h]=r[h-u]^a}if(t){var d;var p=f[0];var g=f[1];var v=f[2];var y=f[3];var m=r.slice(0);c=r.length;for(var h=0,w=c-i;h<c;h+=i,w-=i){if(h===0||h===c-i){m[h]=r[w];m[h+1]=r[w+3];m[h+2]=r[w+2];m[h+3]=r[w+1]}else{for(var C=0;C<i;++C){d=r[w+C];m[h+(3&-C)]=p[n[d>>>24]]^g[n[d>>>16&255]]^v[n[d>>>8&255]]^y[n[d&255]]}}}r=m}return r}function c(e,t,r,i){if(typeof checkIntegrity==="function"){checkIntegrity()}var o=e.length/4-1;var u,l,c,h,d;if(i){u=f[0];l=f[1];c=f[2];h=f[3];d=a}else{u=s[0];l=s[1];c=s[2];h=s[3];d=n}var p,g,v,y,m,w,C;p=t[0]^e[0];g=t[i?3:1]^e[1];v=t[2]^e[2];y=t[i?1:3]^e[3];var b=3;for(var D=1;D<o;++D){m=u[p>>>24]^l[g>>>16&255]^c[v>>>8&255]^h[y&255]^e[++b];w=u[g>>>24]^l[v>>>16&255]^c[y>>>8&255]^h[p&255]^e[++b];C=u[v>>>24]^l[y>>>16&255]^c[p>>>8&255]^h[g&255]^e[++b];y=u[y>>>24]^l[p>>>16&255]^c[g>>>8&255]^h[v&255]^e[++b];p=m;g=w;v=C}r[0]=d[p>>>24]<<24^d[g>>>16&255]<<16^d[v>>>8&255]<<8^d[y&255]^e[++b];r[i?3:1]=d[g>>>24]<<24^d[v>>>16&255]<<16^d[y>>>8&255]<<8^d[p&255]^e[++b];r[2]=d[v>>>24]<<24^d[y>>>16&255]<<16^d[p>>>8&255]<<8^d[g&255]^e[++b];r[i?1:3]=d[y>>>24]<<24^d[p>>>16&255]<<16^d[g>>>8&255]<<8^d[v&255]^e[++b]}function h(t){if(typeof checkIntegrity==="function"){checkIntegrity()}t=t||{};var r=(t.mode||"CBC").toUpperCase();var i="AES-"+r;var n;if(t.decrypt){n=e.cipher.createDecipher(i,t.key)}else{n=e.cipher.createCipher(i,t.key)}var a=n.start;n.start=function(t,r){var i=null;if(r instanceof e.util.ByteBuffer){i=r;r={}}r=r||{};r.output=i;r.iv=t;a.call(n,r)};return n}}var t="aes";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.md5=e.md5||{};e.md=e.md||{};e.md.algorithms=e.md.algorithms||{};e.md.md5=e.md.algorithms.md5=t;t.create=function(){if(!o){s()}var t=null;var i=e.util.createBuffer();var n=new Array(16);var a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,messageLength64:[0,0]};a.start=function(){a.messageLength=0;a.messageLength64=[0,0];i=e.util.createBuffer();t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return a};a.start();a.update=function(r,o){if(o==="utf8"){r=e.util.encodeUtf8(r)}a.messageLength+=r.length;a.messageLength64[0]+=r.length/4294967296>>>0;a.messageLength64[1]+=r.length>>>0;i.putBytes(r);f(t,n,i);if(i.read>2048||i.length()===0){i.compact()}return a};a.digest=function(){var o=e.util.createBuffer();o.putBytes(i.bytes());o.putBytes(r.substr(0,64-(a.messageLength64[1]+8&63)));o.putInt32Le(a.messageLength64[1]<<3);o.putInt32Le(a.messageLength64[0]<<3|a.messageLength64[0]>>>28);var s={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};f(s,n,o);var u=e.util.createBuffer();u.putInt32Le(s.h0);u.putInt32Le(s.h1);u.putInt32Le(s.h2);u.putInt32Le(s.h3);return u};return a};var r=null;var i=null;var n=null;var a=null;var o=false;function s(){if(typeof checkIntegrity==="function"){checkIntegrity()}r=String.fromCharCode(128);r+=e.util.fillString(String.fromCharCode(0),64);i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];a=new Array(64);for(var t=0;t<64;++t){a[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296)}o=true}function f(e,t,r){if(typeof checkIntegrity==="function"){checkIntegrity()}var o,s,f,u,l,c,h,d;var p=r.length();while(p>=64){s=e.h0;f=e.h1;u=e.h2;l=e.h3;for(d=0;d<16;++d){t[d]=r.getInt32Le();c=l^f&(u^l);o=s+c+a[d]+t[d];h=n[d];s=l;l=u;u=f;f+=o<<h|o>>>32-h}for(;d<32;++d){c=u^l&(f^u);o=s+c+a[d]+t[i[d]];h=n[d];s=l;l=u;u=f;f+=o<<h|o>>>32-h}for(;d<48;++d){c=f^u^l;o=s+c+a[d]+t[i[d]];h=n[d];s=l;l=u;u=f;f+=o<<h|o>>>32-h}for(;d<64;++d){c=u^(f|~l);o=s+c+a[d]+t[i[d]];h=n[d];s=l;l=u;u=f;f+=o<<h|o>>>32-h}e.h0=e.h0+s|0;e.h1=e.h1+f|0;e.h2=e.h2+u|0;e.h3=e.h3+l|0;p-=64}}}var t="md5";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.sha1=e.sha1||{};e.md=e.md||{};e.md.algorithms=e.md.algorithms||{};e.md.sha1=e.md.algorithms.sha1=t;t.create=function(){if(!i){n()}var t=null;var o=e.util.createBuffer();var s=new Array(80);var f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,messageLength64:[0,0]};f.start=function(){f.messageLength=0;f.messageLength64=[0,0];o=e.util.createBuffer();t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return f};f.start();f.update=function(r,i){if(i==="utf8"){r=e.util.encodeUtf8(r)}f.messageLength+=r.length;f.messageLength64[0]+=r.length/4294967296>>>0;f.messageLength64[1]+=r.length>>>0;o.putBytes(r);a(t,s,o);if(o.read>2048||o.length()===0){o.compact()}return f};f.digest=function(){var i=e.util.createBuffer();i.putBytes(o.bytes());i.putBytes(r.substr(0,64-(f.messageLength64[1]+8&63)));i.putInt32(f.messageLength64[0]<<3|f.messageLength64[0]>>>28);i.putInt32(f.messageLength64[1]<<3);var n={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a(n,s,i);var u=e.util.createBuffer();u.putInt32(n.h0);u.putInt32(n.h1);u.putInt32(n.h2);u.putInt32(n.h3);u.putInt32(n.h4);return u};return f};var r=null;var i=false;function n(){if(typeof checkIntegrity==="function"){checkIntegrity()}r=String.fromCharCode(128);r+=e.util.fillString(String.fromCharCode(0),64);i=true}function a(e,t,r){if(typeof checkIntegrity==="function"){checkIntegrity()}var i,n,a,o,s,f,u,l;var c=r.length();while(c>=64){n=e.h0;a=e.h1;o=e.h2;s=e.h3;f=e.h4;for(l=0;l<16;++l){i=r.getInt32();t[l]=i;u=s^a&(o^s);i=(n<<5|n>>>27)+u+f+1518500249+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}for(;l<20;++l){i=t[l-3]^t[l-8]^t[l-14]^t[l-16];i=i<<1|i>>>31;t[l]=i;u=s^a&(o^s);i=(n<<5|n>>>27)+u+f+1518500249+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}for(;l<32;++l){i=t[l-3]^t[l-8]^t[l-14]^t[l-16];i=i<<1|i>>>31;t[l]=i;u=a^o^s;i=(n<<5|n>>>27)+u+f+1859775393+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}for(;l<40;++l){i=t[l-6]^t[l-16]^t[l-28]^t[l-32];i=i<<2|i>>>30;t[l]=i;u=a^o^s;i=(n<<5|n>>>27)+u+f+1859775393+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}for(;l<60;++l){i=t[l-6]^t[l-16]^t[l-28]^t[l-32];i=i<<2|i>>>30;t[l]=i;u=a&o|s&(a^o);i=(n<<5|n>>>27)+u+f+2400959708+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}for(;l<80;++l){i=t[l-6]^t[l-16]^t[l-28]^t[l-32];i=i<<2|i>>>30;t[l]=i;u=a^o^s;i=(n<<5|n>>>27)+u+f+3395469782+i;f=s;s=o;o=a<<30|a>>>2;a=n;n=i}e.h0=e.h0+n|0;e.h1=e.h1+a|0;e.h2=e.h2+o|0;e.h3=e.h3+s|0;e.h4=e.h4+f|0;c-=64}}}var t="sha1";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.sha256=e.sha256||{};e.md=e.md||{};e.md.algorithms=e.md.algorithms||{};e.md.sha256=e.md.algorithms.sha256=t;t.create=function(){if(!i){a()}var t=null;var n=e.util.createBuffer();var s=new Array(64);var f={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,messageLength64:[0,0]};f.start=function(){f.messageLength=0;f.messageLength64=[0,0];n=e.util.createBuffer();t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return f};f.start();f.update=function(r,i){if(i==="utf8"){r=e.util.encodeUtf8(r)}f.messageLength+=r.length;f.messageLength64[0]+=r.length/4294967296>>>0;f.messageLength64[1]+=r.length>>>0;n.putBytes(r);o(t,s,n);if(n.read>2048||n.length()===0){n.compact()}return f};f.digest=function(){var i=e.util.createBuffer();i.putBytes(n.bytes());i.putBytes(r.substr(0,64-(f.messageLength64[1]+8&63)));i.putInt32(f.messageLength64[0]<<3|f.messageLength64[0]>>>28);i.putInt32(f.messageLength64[1]<<3);var a={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};o(a,s,i);var u=e.util.createBuffer();u.putInt32(a.h0);u.putInt32(a.h1);u.putInt32(a.h2);u.putInt32(a.h3);u.putInt32(a.h4);u.putInt32(a.h5);u.putInt32(a.h6);u.putInt32(a.h7);return u};return f};var r=null;var i=false;var n=null;function a(){r=String.fromCharCode(128);r+=e.util.fillString(String.fromCharCode(0),64);n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i=true}function o(e,t,r){var i,a,o,s,f,u,l,c,h,d,p,g,v,y,m;var w=r.length();while(w>=64){for(l=0;l<16;++l){t[l]=r.getInt32()}for(;l<64;++l){i=t[l-2];i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10;a=t[l-15];a=(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3;t[l]=i+t[l-7]+a+t[l-16]|0}c=e.h0;h=e.h1;d=e.h2;p=e.h3;g=e.h4;v=e.h5;y=e.h6;m=e.h7;for(l=0;l<64;++l){s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7);f=y^g&(v^y);o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10);u=c&h|d&(c^h);i=m+s+f+n[l]+t[l];a=o+u;m=y;y=v;v=g;g=p+i|0;p=d;d=h;h=c;c=i+a|0}e.h0=e.h0+c|0;e.h1=e.h1+h|0;e.h2=e.h2+d|0;e.h3=e.h3+p|0;e.h4=e.h4+g|0;e.h5=e.h5+v|0;e.h6=e.h6+y|0;e.h7=e.h7+m|0;w-=64}}}var t="sha256";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.sha512=e.sha512||{};e.md=e.md||{};e.md.algorithms=e.md.algorithms||{};e.md.sha512=e.md.algorithms.sha512=t;var r=e.sha384=e.sha512.sha384=e.sha512.sha384||{};r.create=function(){return t.create("SHA-384")};e.md.sha384=e.md.algorithms.sha384=r;e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}};e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256;e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}};e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224;t.create=function(t){if(!n){s()}if(typeof t==="undefined"){t="SHA-512"}if(!(t in o)){throw new Error("Invalid SHA-512 algorithm: "+t)}var r=o[t];var a=null;var u=e.util.createBuffer();var l=new Array(80);for(var c=0;c<80;++c){l[c]=new Array(2)}var h={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:64,messageLength:0,messageLength128:[0,0,0,0]};h.start=function(){h.messageLength=0;h.messageLength128=[0,0,0,0];u=e.util.createBuffer();a=new Array(r.length);for(var t=0;t<r.length;++t){a[t]=r[t].slice(0)}return h};h.start();h.update=function(t,r){if(r==="utf8"){t=e.util.encodeUtf8(t)}h.messageLength+=t.length;var i=t.length;i=[i/4294967296>>>0,i>>>0];for(var n=3;n>=0;--n){h.messageLength128[n]+=i[1];i[1]=i[0]+(h.messageLength128[n]/4294967296>>>0);h.messageLength128[n]=h.messageLength128[n]>>>0;i[0]=i[1]/4294967296>>>0}u.putBytes(t);f(a,l,u);if(u.read>2048||u.length()===0){u.compact()}return h};h.digest=function(){var r=e.util.createBuffer();r.putBytes(u.bytes());r.putBytes(i.substr(0,128-(h.messageLength128[3]+16&127)));var n=[];for(var o=0;o<3;++o){n[o]=h.messageLength128[o]<<3|h.messageLength128[o-1]>>>28}n[3]=h.messageLength128[3]<<3;r.putInt32(n[0]);r.putInt32(n[1]);r.putInt32(n[2]);r.putInt32(n[3]);var s=new Array(a.length);for(var o=0;o<a.length;++o){s[o]=a[o].slice(0)}f(s,l,r);var c=e.util.createBuffer();var d;if(t==="SHA-512"){d=s.length}else if(t==="SHA-384"){d=s.length-2}else{d=s.length-4}for(var o=0;o<d;++o){c.putInt32(s[o][0]);if(o!==d-1||t!=="SHA-512/224"){c.putInt32(s[o][1])}}return c};return h};var i=null;var n=false;var a=null;var o=null;function s(){if(typeof checkIntegrity==="function"){checkIntegrity()}i=String.fromCharCode(128);i+=e.util.fillString(String.fromCharCode(0),128);a=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]];o={};o["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]];o["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]];o["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]];o["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]];n=true}function f(e,t,r){if(typeof checkIntegrity==="function"){checkIntegrity()}var i,n;var o,s;var f,u;var l,c;var h,d;var p,g;var v,y;var m,w;var C,b;var D,I;var S,B;var k,_;var A,T;var E,x;var R,P,L,N,O,U,j;var M=r.length();while(M>=128){for(R=0;R<16;++R){t[R][0]=r.getInt32()>>>0;t[R][1]=r.getInt32()>>>0}for(;R<80;++R){N=t[R-2];P=N[0];L=N[1];i=((P>>>19|L<<13)^(L>>>29|P<<3)^P>>>6)>>>0;n=((P<<13|L>>>19)^(L<<3|P>>>29)^(P<<26|L>>>6))>>>0;U=t[R-15];P=U[0];L=U[1];o=((P>>>1|L<<31)^(P>>>8|L<<24)^P>>>7)>>>0;s=((P<<31|L>>>1)^(P<<24|L>>>8)^(P<<25|L>>>7))>>>0;O=t[R-7];j=t[R-16];L=n+O[1]+s+j[1];t[R][0]=i+O[0]+o+j[0]+(L/4294967296>>>0)>>>0;t[R][1]=L>>>0}v=e[0][0];y=e[0][1];m=e[1][0];w=e[1][1];C=e[2][0];b=e[2][1];D=e[3][0];I=e[3][1];S=e[4][0];B=e[4][1];k=e[5][0];_=e[5][1];A=e[6][0];T=e[6][1];E=e[7][0];x=e[7][1];for(R=0;R<80;++R){l=((S>>>14|B<<18)^(S>>>18|B<<14)^(B>>>9|S<<23))>>>0;c=((S<<18|B>>>14)^(S<<14|B>>>18)^(B<<23|S>>>9))>>>0;h=(A^S&(k^A))>>>0;d=(T^B&(_^T))>>>0;f=((v>>>28|y<<4)^(y>>>2|v<<30)^(y>>>7|v<<25))>>>0;u=((v<<4|y>>>28)^(y<<30|v>>>2)^(y<<25|v>>>7))>>>0;p=(v&m|C&(v^m))>>>0;g=(y&w|b&(y^w))>>>0;L=x+c+d+a[R][1]+t[R][1];i=E+l+h+a[R][0]+t[R][0]+(L/4294967296>>>0)>>>0;n=L>>>0;L=u+g;o=f+p+(L/4294967296>>>0)>>>0;s=L>>>0;E=A;x=T;A=k;T=_;k=S;_=B;L=I+n;S=D+i+(L/4294967296>>>0)>>>0;B=L>>>0;D=C;I=b;C=m;b=w;m=v;w=y;L=n+s;v=i+o+(L/4294967296>>>0)>>>0;y=L>>>0}L=e[0][1]+y;e[0][0]=e[0][0]+v+(L/4294967296>>>0)>>>0;e[0][1]=L>>>0;L=e[1][1]+w;e[1][0]=e[1][0]+m+(L/4294967296>>>0)>>>0;e[1][1]=L>>>0;L=e[2][1]+b;e[2][0]=e[2][0]+C+(L/4294967296>>>0)>>>0;e[2][1]=L>>>0;L=e[3][1]+I;e[3][0]=e[3][0]+D+(L/4294967296>>>0)>>>0;e[3][1]=L>>>0;L=e[4][1]+B;e[4][0]=e[4][0]+S+(L/4294967296>>>0)>>>0;e[4][1]=L>>>0;L=e[5][1]+_;e[5][0]=e[5][0]+k+(L/4294967296>>>0)>>>0;e[5][1]=L>>>0;L=e[6][1]+T;e[6][0]=e[6][0]+A+(L/4294967296>>>0)>>>0;e[6][1]=L>>>0;L=e[7][1]+x;e[7][0]=e[7][0]+E+(L/4294967296>>>0)>>>0;e[7][1]=L>>>0;M-=128}}}var t="sha512";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){e.md=e.md||{};e.md.algorithms={md5:e.md5,sha1:e.sha1,sha256:e.sha256};e.md.md5=e.md5;e.md.sha1=e.sha1;e.md.sha256=e.sha256}var t="md";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=typeof process!=="undefined"&&process.versions&&process.versions.node;var r=null;if(!e.disableNativeCode&&t&&!process.versions["node-webkit"]){r="";var i=window.wizvera}var n=e.prng=e.prng||{};n.create=function(t){var i={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0};var n=t.md;var a=new Array(32);for(var o=0;o<32;++o){a[o]=n.create()}i.pools=a;i.pool=0;i.generate=function(t,r){if(!r){return i.generateSync(t)}var n=i.plugin.cipher;var a=i.plugin.increment;var o=i.plugin.formatKey;var f=i.plugin.formatSeed;var u=e.util.createBuffer();i.key=null;l();function l(c){if(c){return r(c)}if(u.length()>=t){return r(null,u.getBytes(t))}if(i.generated>1048575){i.key=null}if(i.key===null){return e.util.nextTick(function(){s(l)})}var h=n(i.key,i.seed);i.generated+=h.length;u.putBytes(h);i.key=o(n(i.key,a(i.seed)));i.seed=f(n(i.key,i.seed));e.util.setImmediate(l)}};i.generateSync=function(t){var r=i.plugin.cipher;var n=i.plugin.increment;var a=i.plugin.formatKey;var o=i.plugin.formatSeed;i.key=null;var s=e.util.createBuffer();while(s.length()<t){if(i.generated>1048575){i.key=null}if(i.key===null){f()}var u=r(i.key,i.seed);i.generated+=u.length;s.putBytes(u);i.key=a(r(i.key,n(i.seed)));i.seed=o(r(i.key,i.seed))}return s.getBytes(t)};function s(e){if(typeof checkIntegrity==="function"){checkIntegrity()}if(i.pools[0].messageLength>=32){u();return e()}var t=32-i.pools[0].messageLength<<5;i.seedFile(t,function(t,r){if(t){return e(t)}i.collect(r);u();e()})}function f(){if(typeof checkIntegrity==="function"){checkIntegrity()}if(i.pools[0].messageLength>=32){return u()}var e=32-i.pools[0].messageLength<<5;i.collect(i.seedFileSync(e));u()}function u(){if(typeof checkIntegrity==="function"){checkIntegrity()}var e=i.plugin.md.create();e.update(i.pools[0].digest().getBytes());i.pools[0].start();var t=1;for(var r=1;r<32;++r){t=t===31?2147483648:t<<2;if(t%i.reseeds===0){e.update(i.pools[r].digest().getBytes());i.pools[r].start()}}var n=e.digest().getBytes();e.start();e.update(n);var a=e.digest().getBytes();i.key=i.plugin.formatKey(n);i.seed=i.plugin.formatSeed(a);i.reseeds=i.reseeds===4294967295?0:i.reseeds+1;i.generated=0}function l(t){var r=null;if(typeof window!=="undefined"){var i=window.crypto||window.msCrypto;if(i&&i.getRandomValues){r=function(e){return i.getRandomValues(e)}}}var n=e.util.createBuffer();if(r){while(n.length()<t){var a=Math.max(1,Math.min(t-n.length(),65536)/4);var o=new Uint32Array(Math.floor(a));try{r(o);for(var s=0;s<o.length;++s){n.putInt32(o[s])}}catch(f){if(!(typeof QuotaExceededError!=="undefined"&&f instanceof QuotaExceededError)){throw f}}}}if(n.length()<t){var u,l,c;var h=Math.floor(Math.random()*65536);while(n.length()<t){l=16807*(h&65535);u=16807*(h>>16);l+=(u&32767)<<16;l+=u>>15;l=(l&2147483647)+(l>>31);h=l&4294967295;for(var s=0;s<3;++s){c=h>>>(s<<3);c^=Math.floor(Math.random()*256);n.putByte(String.fromCharCode(c&255))}}}return n.getBytes(t)}if(r){i.seedFile=function(e,t){r.randomBytes(e,function(e,r){if(e){return t(e)}t(null,r.toString())})};i.seedFileSync=function(e){return r.randomBytes(e).toString()}}else{i.seedFile=function(e,t){try{t(null,l(e))}catch(r){t(r)}};i.seedFileSync=l}i.collect=function(e){var t=e.length;for(var r=0;r<t;++r){i.pools[i.pool].update(e.substr(r,1));i.pool=i.pool===31?0:i.pool+1}};i.collectInt=function(e,t){var r="";for(var n=0;n<t;n+=8){r+=String.fromCharCode(e>>n&255)}i.collect(r)};i.registerWorker=function(e){if(e===self){i.seedFile=function(e,t){function r(e){var i=e.data;if(i.kryptos&&i.kryptos.prng){self.removeEventListener("message",r);t(i.kryptos.prng.err,i.kryptos.prng.bytes)}}self.addEventListener("message",r);self.postMessage({kryptos:{prng:{needed:e}}})}}else{var t=function(t){var r=t.data;if(r.kryptos&&r.kryptos.prng){i.seedFile(r.kryptos.prng.needed,function(t,r){e.postMessage({kryptos:{prng:{err:t,bytes:r}}})})}};e.addEventListener("message",t)}};return i}}var t="prng";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){if(e.random&&e.random.getBytes){return}(function(t){var r={};var i=new Array(4);var n=e.util.createBuffer();r.formatKey=function(t){var r=e.util.createBuffer(t);t=new Array(4);t[0]=r.getInt32();t[1]=r.getInt32();t[2]=r.getInt32();t[3]=r.getInt32();return e.aes._expandKey(t,false)};r.formatSeed=function(t){var r=e.util.createBuffer(t);t=new Array(4);t[0]=r.getInt32();t[1]=r.getInt32();t[2]=r.getInt32();t[3]=r.getInt32();return t};r.cipher=function(t,r){e.aes._updateBlock(t,r,i,false);n.putInt32(i[0]);n.putInt32(i[1]);n.putInt32(i[2]);n.putInt32(i[3]);return n.getBytes()};r.increment=function(e){++e[3];return e};r.md=e.md.sha256;function a(){var t=e.prng.create(r);t.getBytes=function(e,r){return t.generate(e,r)};t.getBytesSync=function(e){return t.generate(e)};return t}var o=a();var s=typeof process!=="undefined"&&process.versions&&process.versions.node;var f=null;if(typeof window!=="undefined"){var u=window.crypto||window.msCrypto;if(u&&u.getRandomValues){f=function(e){return u.getRandomValues(e)}}}if(e.disableNativeCode||!s&&!f){if(typeof window==="undefined"||window.document===undefined){}o.collectInt(+new Date,32);if(typeof navigator!=="undefined"){var l="";for(var c in navigator){try{if(typeof navigator[c]=="string"){l+=navigator[c]}}catch(h){}}o.collect(l);l=null}if(t){t().mousemove(function(e){o.collectInt(e.clientX,16);o.collectInt(e.clientY,16)});t().keypress(function(e){o.collectInt(e.charCode,8)})}}if(!e.random){e.random=o}else{for(var c in o){e.random[c]=o[c]}}e.random.createInstance=a})(typeof jQuery!=="undefined"?jQuery:null)}var t="random";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){var t=e.pkcs1=e.pkcs1||{};t.encode_rsa_oaep=function(t,i,n){var a;var o;var s;var f;if(typeof n==="string"){a=n;o=arguments[3]||undefined;s=arguments[4]||undefined}else if(n){a=n.label||undefined;o=n.seed||undefined;s=n.md||undefined;if(n.mgf1&&n.mgf1.md){f=n.mgf1.md}}if(!s){s=e.md.sha1.create()}else{s.start()}if(!f){f=s}var u=Math.ceil(t.n.bitLength()/8);var l=u-2*s.digestLength-2;if(i.length>l){var c=new Error("RSAES-OAEP input message length is too long.");c.length=i.length;c.maxLength=l;throw c}if(!a){a=""}s.update(a,"raw");var h=s.digest();var d="";var p=l-i.length;for(var g=0;g<p;g++){d+="\x00"}var v=h.getBytes()+d+""+i;if(!o){o=e.random.getBytes(s.digestLength)}else if(o.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must "+"match the digest length.");c.seedLength=o.length;c.digestLength=s.digestLength;throw c}var y=r(o,u-s.digestLength-1,f);var m=e.util.xorBytes(v,y,v.length);var w=r(m,s.digestLength,f);var C=e.util.xorBytes(o,w,o.length);return"\x00"+C+m};t.decode_rsa_oaep=function(t,i,n){var a;var o;var s;if(typeof n==="string"){a=n;o=arguments[3]||undefined}else if(n){a=n.label||undefined;o=n.md||undefined;if(n.mgf1&&n.mgf1.md){s=n.mgf1.md}}var f=Math.ceil(t.n.bitLength()/8);if(i.length!==f){var u=new Error("RSAES-OAEP encoded message length is invalid.");u.length=i.length;u.expectedLength=f;throw u}if(o===undefined){o=e.md.sha1.create()}else{o.start()}if(!s){s=o}if(f<2*o.digestLength+2){throw new Error("RSAES-OAEP key is too short for the hash function.")}if(!a){a=""}o.update(a,"raw");var l=o.digest().getBytes();var c=i.charAt(0);var h=i.substring(1,o.digestLength+1);var d=i.substring(1+o.digestLength);var p=r(d,o.digestLength,s);var g=e.util.xorBytes(h,p,h.length);var v=r(g,f-o.digestLength-1,s);var y=e.util.xorBytes(d,v,d.length);var m=y.substring(0,o.digestLength);var u=c!=="\x00";for(var w=0;w<o.digestLength;++w){u|=l.charAt(w)!==m.charAt(w)}var C=1;var b=o.digestLength;for(var D=o.digestLength;D<y.length;D++){var I=y.charCodeAt(D);var S=I&1^1;var B=C?65534:0;u|=I&B;C=C&S;b+=C}if(u||y.charCodeAt(b)!==1){throw new Error("Invalid RSAES-OAEP padding.")}return y.substring(b+1)};function r(t,r,i){if(!i){i=e.md.sha1.create()}var n="";var a=Math.ceil(r/i.digestLength);for(var o=0;o<a;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);i.start();i.update(t+s);n+=i.digest().getBytes()}return n.substring(0,r)}}var t="pkcs1";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){if(e.prime){return}var t=e.prime=e.prime||{};var r=e.jsbn.BigInteger;var i=[6,4,2,4,2,4,6,2];var n=new r(null);n.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(t,r,i){if(typeof r==="function"){i=r;r={}}r=r||{};var n=r.algorithm||"PRIMEINC";if(typeof n==="string"){n={name:n}}n.options=n.options||{};var a=r.prng||e.random;var s={nextBytes:function(e){var t=a.getBytesSync(e.length);for(var r=0;r<e.length;++r){e[r]=t.charCodeAt(r)}}};if(n.name==="PRIMEINC"){return o(t,s,n.options,i)}throw new Error("Invalid prime generation algorithm: "+n.name)};function o(e,t,r,i){if("workers"in r){return f(e,t,r,i)}return s(e,t,r,i)}function s(t,r,n,a){var o=u(t,r);var f=0;var c=l(o.bitLength());if("millerRabinTests"in n){c=n.millerRabinTests}var h=10;if("maxBlockTime"in n){h=n.maxBlockTime}var d=+new Date;do{if(o.bitLength()>t){o=u(t,r)}if(o.isProbablePrime(c)){return a(null,o)}o.dAddOffset(i[f++%8],0)}while(h<0||+new Date-d<h);e.util.setImmediate(function(){s(t,r,n,a)})}function f(t,i,n,a){if(typeof Worker==="undefined"){return s(t,i,n,a)}var o=u(t,i);var f=n.workers;var l=n.workLoad||100;var c=l*30/8;var h=n.workerScript||"kryptos/prime.worker.js";if(f===-1){return e.util.estimateCores(function(e,t){if(e){t=2}f=t-1;d()})}d();function d(){f=Math.max(1,f);var e=[];for(var n=0;n<f;++n){e[n]=new Worker(h)}var s=f;for(var n=0;n<f;++n){e[n].addEventListener("message",p)}var d=false;function p(n){if(d){return}--s;var f=n.data;if(f.found){for(var h=0;h<e.length;++h){e[h].terminate()}d=true;return a(null,new r(f.prime,16))}if(o.bitLength()>t){o=u(t,i)}var p=o.toString(16);n.target.postMessage({hex:p,workLoad:l});o.dAddOffset(c,0)}}}function u(e,t){var i=new r(e,t);var o=e-1;if(!i.testBit(o)){i.bitwiseTo(r.ONE.shiftLeft(o),a,i)}i.dAddOffset(31-i.mod(n).byteValue(),0);return i}function l(e){if(e<=100)return 27;if(e<=150)return 18;if(e<=200)return 15;if(e<=250)return 12;if(e<=300)return 9;if(e<=350)return 8;if(e<=400)return 7;if(e<=500)return 6;if(e<=600)return 5;if(e<=800)return 4;if(e<=1250)return 3;return 2}}var t="prime";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){if(typeof t==="undefined"){var t=e.jsbn.BigInteger}var r=e.asn1;e.pki=e.pki||{};e.pki.rsa=e.rsa=e.rsa||{};var i=e.pki;var n=[6,4,2,4,2,4,6,2];var a={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:false,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:false,capture:"privateKey"}]};var o={name:"RSAPrivateKey",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,value:[{name:"RSAPrivateKey.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"privateKeyCoefficient"}]};var s={name:"RSAPublicKey",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,value:[{name:"RSAPublicKey.modulus",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:false,capture:"publicKeyExponent"}]};var f=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:false,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:false,captureAsn1:"rsaPublicKey"}]};var u=function(e){var t;if(e.algorithm in i.oids){t=i.oids[e.algorithm]}else{var n=new Error("Unknown message digest algorithm.");n.algorithm=e.algorithm;throw n}var a=r.oidToDer(t).getBytes();var o=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[]);var s=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[]);s.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,false,a));s.value.push(r.create(r.Class.UNIVERSAL,r.Type.NULL,false,""));var f=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,false,e.digest().getBytes());o.value.push(s);o.value.push(f);return r.toDer(o).getBytes()};var l=function(r,i,n){if(n){return r.modPow(i.e,i.n)}if(!i.p||!i.q){return r.modPow(i.d,i.n)}if(!i.dP){i.dP=i.d.mod(i.p.subtract(t.ONE))}if(!i.dQ){i.dQ=i.d.mod(i.q.subtract(t.ONE))}if(!i.qInv){i.qInv=i.q.modInverse(i.p)}var a;do{a=new t(e.util.bytesToHex(e.random.getBytes(i.n.bitLength()/8)),16).mod(i.n)}while(a.equals(t.ZERO));r=r.multiply(a.modPow(i.e,i.n)).mod(i.n);var o=r.mod(i.p).modPow(i.dP,i.p);var s=r.mod(i.q).modPow(i.dQ,i.q);while(o.compareTo(s)<0){o=o.add(i.p)}var f=o.subtract(s).multiply(i.qInv).mod(i.p).multiply(i.q).add(s);f=f.multiply(a.modInverse(i.n)).mod(i.n);return f};i.rsa.encrypt=function(r,i,n){var a=n;var o;var s=Math.ceil(i.n.bitLength()/8);if(n!==false&&n!==true){a=n===2;o=c(r,i,n)}else{o=e.util.createBuffer();o.putBytes(r)}var f=new t(o.toHex(),16);var u=l(f,i,a);var h=u.toString(16);var d=e.util.createBuffer();var p=s-Math.ceil(h.length/2);while(p>0){d.putByte(0);--p}d.putBytes(e.util.hexToBytes(h));return d.getBytes()};i.rsa.decrypt=function(r,i,n,a){var o=Math.ceil(i.n.bitLength()/8);if(r.length!==o){var s=new Error("Encrypted message length is invalid.");s.length=r.length;s.expected=o;throw s}var f=new t(e.util.createBuffer(r).toHex(),16);if(f.compareTo(i.n)>=0){throw new Error("Encrypted message is invalid.")}var u=l(f,i,n);var c=u.toString(16);var d=e.util.createBuffer();var p=o-Math.ceil(c.length/2);while(p>0){d.putByte(0);--p}d.putBytes(e.util.hexToBytes(c));if(a!==false){return h(d.getBytes(),i,n)}return d.getBytes()};i.rsa.createKeyPairGenerationState=function(r,i,n){if(typeof r==="string"){r=parseInt(r,10)}r=r||2048;n=n||{};var a=n.prng||e.random;var o={nextBytes:function(e){var t=a.getBytesSync(e.length);for(var r=0;r<e.length;++r){e[r]=t.charCodeAt(r)}}};var s=n.algorithm||"PRIMEINC";var f;if(s==="PRIMEINC"){f={algorithm:s,state:0,bits:r,rng:o,eInt:i||65537,e:new t(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null};f.e.fromInt(f.eInt)}else{throw new Error("Invalid key generation algorithm: "+s)}return f};i.rsa.stepKeyPairGenerationState=function(e,r){if(!("algorithm"in e)){e.algorithm="PRIMEINC"}var a=new t(null);a.fromInt(30);var o=0;var s=function(e,t){return e|t};var f=+new Date;var u;var l=0;while(e.keys===null&&(r<=0||l<r)){if(e.state===0){var c=e.p===null?e.pBits:e.qBits;var h=c-1;if(e.pqState===0){e.num=new t(c,e.rng);if(!e.num.testBit(h)){e.num.bitwiseTo(t.ONE.shiftLeft(h),s,e.num)}e.num.dAddOffset(31-e.num.mod(a).byteValue(),0);o=0;++e.pqState}else if(e.pqState===1){if(e.num.bitLength()>c){e.pqState=0}else if(e.num.isProbablePrime(g(e.num.bitLength()))){++e.pqState}else{e.num.dAddOffset(n[o++%8],0)}}else if(e.pqState===2){e.pqState=e.num.subtract(t.ONE).gcd(e.e).compareTo(t.ONE)===0?3:0}else if(e.pqState===3){e.pqState=0;if(e.p===null){e.p=e.num}else{e.q=e.num}if(e.p!==null&&e.q!==null){++e.state}e.num=null}}else if(e.state===1){if(e.p.compareTo(e.q)<0){e.num=e.p;e.p=e.q;e.q=e.num}++e.state}else if(e.state===2){e.p1=e.p.subtract(t.ONE);e.q1=e.q.subtract(t.ONE);e.phi=e.p1.multiply(e.q1);++e.state}else if(e.state===3){if(e.phi.gcd(e.e).compareTo(t.ONE)===0){++e.state}else{e.p=null;e.q=null;e.state=0}}else if(e.state===4){e.n=e.p.multiply(e.q);if(e.n.bitLength()===e.bits){++e.state}else{e.q=null;e.state=0}}else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:i.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:i.rsa.setPublicKey(e.n,e.e)}}u=+new Date;l+=u-f;f=u}return e.keys!==null};i.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1){if(typeof e==="object"){r=e;e=undefined}else if(typeof e==="function"){n=e;e=undefined}}else if(arguments.length===2){if(typeof e==="number"){if(typeof t==="function"){n=t;t=undefined}else if(typeof t!=="number"){r=t;t=undefined}}else{r=e;n=t;e=undefined;t=undefined}}else if(arguments.length===3){if(typeof t==="number"){if(typeof r==="function"){n=r;r=undefined}}else{n=r;r=t;t=undefined}}r=r||{};if(e===undefined){e=r.bits||2048}if(t===undefined){t=r.e||65537}var a=i.rsa.createKeyPairGenerationState(e,t,r);if(!n){i.rsa.stepKeyPairGenerationState(a,0);return a.keys}d(a,r,n)};i.setRsaPublicKey=i.rsa.setPublicKey=function(t,n){var a={n:t,e:n};a.encrypt=function(t,r,n){if(typeof r==="string"){r=r.toUpperCase()}else if(r===undefined){r="RSAES-PKCS1-V1_5"}if(r==="RSAES-PKCS1-V1_5"){r={encode:function(e,t,r){return c(e,t,2).getBytes()}}}else if(r==="RSA-OAEP"||r==="RSAES-OAEP"){r={encode:function(t,r){return e.pkcs1.encode_rsa_oaep(r,t,n)}}}else if(["RAW","NONE","NULL",null].indexOf(r)!==-1){r={encode:function(e){return e}}}else if(typeof r==="string"){throw new Error('Unsupported encryption scheme: "'+r+'".')}var o=r.encode(t,a,true);return i.rsa.encrypt(o,a,true)};a.verify=function(e,t,n){if(typeof n==="string"){n=n.toUpperCase()}else if(n===undefined){n="RSASSA-PKCS1-V1_5"}if(n==="RSASSA-PKCS1-V1_5"){n={verify:function(e,t){t=h(t,a,true);var i=r.fromDer(t);return e===i.value[1].value}}}else if(n==="NONE"||n==="NULL"||n===null){n={verify:function(e,t){t=h(t,a,true);return e===t}}}var o=i.rsa.decrypt(t,a,true,false);return n.verify(e,o,a.n.bitLength())};return a};i.setRsaPrivateKey=i.rsa.setPrivateKey=function(t,r,n,a,o,s,f,l){var c={n:t,e:r,d:n,p:a,q:o,dP:s,dQ:f,qInv:l};c.decrypt=function(t,r,n){if(typeof r==="string"){r=r.toUpperCase()}else if(r===undefined){r="RSAES-PKCS1-V1_5"}var a=i.rsa.decrypt(t,c,false,false);if(r==="RSAES-PKCS1-V1_5"){r={decode:h}}else if(r==="RSA-OAEP"||r==="RSAES-OAEP"){r={decode:function(t,r){return e.pkcs1.decode_rsa_oaep(r,t,n)}}}else if(["RAW","NONE","NULL",null].indexOf(r)!==-1){r={decode:function(e){return e}}}else{throw new Error('Unsupported encryption scheme: "'+r+'".')}return r.decode(a,c,false)};c.sign=function(e,t){var r=false;if(typeof t==="string"){t=t.toUpperCase()}if(t===undefined||t==="RSASSA-PKCS1-V1_5"){t={encode:u};r=1}else if(t==="NONE"||t==="NULL"||t===null){t={encode:function(){return e}};r=1}var n=t.encode(e,c.n.bitLength());return i.rsa.encrypt(n,c,r)};return c};i.wrapRsaPrivateKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,r.integerToDer(0).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.OID,false,r.oidToDer(i.oids.rsaEncryption).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,false,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,false,r.toDer(e).getBytes())])};i.privateKeyFromAsn1=function(n){var s={};var f=[];if(r.validate(n,a,s,f)){n=r.fromDer(e.util.createBuffer(s.privateKey))}s={};f=[];if(!r.validate(n,o,s,f)){var u=new Error("Cannot read private key. "+"ASN.1 object does not contain an RSAPrivateKey.");u.errors=f;throw u}var l,c,h,d,p,g,v,y;l=e.util.createBuffer(s.privateKeyModulus).toHex();c=e.util.createBuffer(s.privateKeyPublicExponent).toHex();h=e.util.createBuffer(s.privateKeyPrivateExponent).toHex();d=e.util.createBuffer(s.privateKeyPrime1).toHex();p=e.util.createBuffer(s.privateKeyPrime2).toHex();g=e.util.createBuffer(s.privateKeyExponent1).toHex();v=e.util.createBuffer(s.privateKeyExponent2).toHex();y=e.util.createBuffer(s.privateKeyCoefficient).toHex();return i.setRsaPrivateKey(new t(l,16),new t(c,16),new t(h,16),new t(d,16),new t(p,16),new t(g,16),new t(v,16),new t(y,16))};i.privateKeyToAsn1=i.privateKeyToRSAPrivateKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,r.integerToDer(0).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.n)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.e)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.d)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.p)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.q)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.dP)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.dQ)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.qInv))])};i.publicKeyFromAsn1=function(n){var a={};var o=[];if(r.validate(n,f,a,o)){var u=r.derToOid(a.publicKeyOid);if(u!==i.oids.rsaEncryption){var l=new Error("Cannot read public key. Unknown OID.");l.oid=u;throw l}var c=e.util.createBuffer(a.rsaPublicKey.value);var h=c.getByte();if(h!==0){throw new Error("rsaPublicKey bitString has unsupported value : "+h)}n=r.fromDer(c.getBytes())}o=[];if(!r.validate(n,s,a,o)){var l=new Error("Cannot read public key. "+"ASN.1 object does not contain an RSAPublicKey.");l.errors=o;throw l}var d=e.util.createBuffer(a.publicKeyModulus).toHex();var p=e.util.createBuffer(a.publicKeyExponent).toHex();return i.setRsaPublicKey(new t(d,16),new t(p,16))};i.publicKeyToAsn1=i.publicKeyToSubjectPublicKeyInfo=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.OID,false,r.oidToDer(i.oids.rsaEncryption).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,false,"")]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,false,[i.publicKeyToRSAPublicKey(e)])])};i.publicKeyToRSAPublicKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,true,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.n)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,false,p(e.e))])};function c(t,r,i){if(typeof checkIntegrity==="function"){checkIntegrity()}var n=e.util.createBuffer();var a=Math.ceil(r.n.bitLength()/8);if(t.length>a-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");o.length=t.length;o.max=a-11;throw o}n.putByte(0);n.putByte(i);var s=a-3-t.length;var f;if(i===0||i===1){f=i===0?0:255;for(var u=0;u<s;++u){n.putByte(f)}}else{while(s>0){var l=0;var c=e.random.getBytes(s);for(var u=0;u<s;++u){f=c.charCodeAt(u);if(f===0){++l}else{n.putByte(f)}}s=l}}n.putByte(0);n.putBytes(t);return n}function h(t,r,i,n){if(typeof checkIntegrity==="function"){checkIntegrity()}var a=Math.ceil(r.n.bitLength()/8);var o=e.util.createBuffer(t);var s=o.getByte();var f=o.getByte();if(s!==0||i&&f!==0&&f!==1||!i&&f!=2||i&&f===0&&typeof n==="undefined"){throw new Error("Encryption block is invalid.")}var u=0;if(f===0){u=a-3-n;for(var l=0;l<u;++l){if(o.getByte()!==0){throw new Error("Encryption block is invalid.")}}}else if(f===1){u=0;while(o.length()>1){if(o.getByte()!==255){--o.read;break}++u}}else if(f===2){u=0;while(o.length()>1){if(o.getByte()===0){--o.read;break}++u}}var c=o.getByte();if(c!==0||u!==a-3-o.length()){throw new Error("Encryption block is invalid.")}return o.getBytes()}function d(r,n,a){if(typeof checkIntegrity==="function"){checkIntegrity()}if(typeof n==="function"){a=n;n={}}n=n||{};var o={algorithm:{name:n.algorithm||"PRIMEINC",options:{workers:n.workers||2,workLoad:n.workLoad||100,workerScript:n.workerScript}}};if("prng"in n){o.prng=n.prng}s();function s(){f(r.pBits,function(e,t){if(e){return a(e)}r.p=t;if(r.q!==null){return u(e,r.q)}f(r.qBits,u)})}function f(t,r){e.prime.generateProbablePrime(t,o,r)}function u(e,n){if(e){return a(e)}r.q=n;if(r.p.compareTo(r.q)<0){var o=r.p;r.p=r.q;r.q=o}if(r.p.subtract(t.ONE).gcd(r.e).compareTo(t.ONE)!==0){r.p=null;s();return}if(r.q.subtract(t.ONE).gcd(r.e).compareTo(t.ONE)!==0){r.q=null;f(r.qBits,u);return}r.p1=r.p.subtract(t.ONE);r.q1=r.q.subtract(t.ONE);r.phi=r.p1.multiply(r.q1);if(r.phi.gcd(r.e).compareTo(t.ONE)!==0){r.p=r.q=null;s();return}r.n=r.p.multiply(r.q);if(r.n.bitLength()!==r.bits){r.q=null;f(r.qBits,u);return}var l=r.e.modInverse(r.phi);r.keys={privateKey:i.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:i.rsa.setPublicKey(r.n,r.e)};a(null,r.keys)}}function p(t){if(typeof checkIntegrity==="function"){checkIntegrity()}var r=t.toString(16);if(r[0]>="8"){r="00"+r}return e.util.hexToBytes(r)}function g(e){if(typeof checkIntegrity==="function"){checkIntegrity()}if(e<=100)return 27;if(e<=150)return 18;if(e<=200)return 15;if(e<=250)return 12;if(e<=300)return 9;if(e<=350)return 8;if(e<=400)return 7;if(e<=500)return 6;if(e<=600)return 5;if(e<=800)return 4;if(e<=1250)return 3;return 2}}var t="rsa";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();(function(){function e(e){(function(e){"";var t=window.wizvera;var t=e.wizvera;var r=t.kryptos;var i=r.pki.rsa;var n=r.util;var a=r.random;var o=r.pki;var s=r.asn1;var f=r.md;var u=r.jsbn.BigInteger;var l=r.cipher;var c={};t.sch=c;var h="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwnmDQR2Fx7KPdfyN+KfP"+"YLpF8uuLclkz6n0maK2FJwD/iYNAmtqn6fVHp1Gg5j7ilHLMl4eOw7K5pDgYnNbC"+"vAJpe4NjG0JdKB1jPg3+aMVx+nGMm5GE6vJEg9J8VxoOiNP9cYIVcRpqMq+atE1v"+"1gmxB/t1sXo4l5XKqAHvaFikKjjQDivg3BDW8d4vlf5FXMZl9yOprf1mpQd6uilT"+"fIJ5Axfy5JaaVXNOCcjhC9H9D3nVdrHygSVITtn1ULfZP0HgPSCiA3OdrcuVHLo3"+"QuiFBi8WfpLuRaMox+CIclRN8t07P3n/WUUTkA0KW0rzjYGAqVT1B0GLOupHfc3x"+"vQIDAQAB";var d=o.publicKeyFromAsn1(s.fromDer(n.decode64(h)));function p(){sid=n.binary.hex.encode(a.getBytesSync(20));return sid}function g(){var e=a.getBytesSync(32);return e}function v(e){var t=d.encrypt(e);t=n.encode64(t);return t}function y(e,t,r){var i=f.sha256.create();i.update(e);i.update(t);var n=i.digest();return n.getBytes(r)}function m(e,t){if(e.length!=t.length)return false;for(var r=0;r<e.length;r++){if(e[r]!=t[r])return false}return true}var w={Exception:1,Mac_Verify_Fail:2,Not_Inited:11,Mismatch_Sid:12,No_ExchangedKey:13};function C(e,t){var r={code:e,message:t};return{error:r}}c.create=function(){var e={};e.rest=function(){e.sid=null;e.nonce1=null;e.encNonce1=null};e.init=function(){if(e.sid==null){e.sid=p();e.nonce1=g();e.encNonce1=v(e.nonce1)}var t={sid:e.sid,nonce:e.encNonce1};return{data:t}};e.encrypt=function(t,r,i){if(e.sid==null){return C(w.Not_Inited,"not inited")}if(e.sid!=t){return C(w.Mismatch_Sid,"mismatch sid")}if(r!=null){e.generateKey(r.nonce);if(!e.verifyMac(r.mac)){return C(w.Mac_Verify_Fail,"mac verify fail")}e.keyexchanged=true}if(!e.keyexchanged){return C(w.No_ExchangedKey,"no exchanged key")}var n=e.encryptData(i);var a={data:n};return{data:a}};e.decrypt=function(t,r){if(!e.keyexchanged){return C(w.No_ExchangedKey,"no exchanged key")}var i=n.decodeUtf8(e.decryptData(r));var a={data:i};return{data:a}};e.generateKey=function(t){e.nonce2=n.decode64(t);var r=f.sha256.create();r.update(n.createBuffer(e.nonce1).getBytes());r.update(n.createBuffer(e.nonce2).getBytes());var i=r.digest().getBytes();e.ekey=y("wizvera delfino key 1",i,16);e.dkey=y("wizvera delfino key 2",i,16);e.eiv=y("wizvera delfino iv 1",i,16);e.div=y("wizvera delfino iv 2",i,16)};e.verifyMac=function(t){expectedMac=e.decryptData(t);if(expectedMac.length==0)return false;var r=f.sha256.create();r.update("wizvera delfino mac");r.update(n.createBuffer(e.nonce1).getBytes());calMac=r.digest().getBytes();return m(expectedMac,calMac)};e.encryptData=function(t){var r=l.createCipher("AES-CBC",e.ekey);r.start({iv:e.eiv});r.update(n.createBuffer(t,"utf8"));r.finish();return n.encode64(r.output.getBytes())};e.decryptData=function(t){t=n.decode64(t);var r=l.createDecipher("AES-CBC",e.dkey);r.start({iv:e.div});r.update(n.createBuffer(t));r.finish();return r.output.getBytes()};return e};if(typeof module==="object"&&module.exports){module.exports=c;t.sch=c}})(window)}var t="gen-secure-handler";function r(){if(typeof e!=="function")return;var t={};if(typeof window==="object"){if(typeof window.wizvera==="object"){t=window.wizvera}else{window.wizvera=t}}t.kryptos=t.kryptos||{};e(t.kryptos);return t}var i=r()})();